(function(){try{
(()=>{var cp=Object.defineProperty;var fp=(t,e,o)=>e in t?cp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o;var xo=(t,e,o)=>(fp(t,typeof e!="symbol"?e+"":e,o),o);var l={apps:[{active:!0,app:"TARGET",platforms:[{platform:"FACEBOOK_ADS"}]}],bundles:[{name:"codecademy"}],config:{events:{purchase:{fbEventsToIntercept:[{event:"StartTrial"}]}},spa:{refresh:{delay:1e3,enabled:!0}},visitor:{id_name:"_bcai_i",id_source:"cookie",set_info:!0}},facebookAccounts:[{advancedMatching:!0,pixelId:"1036078779778355"}],name:"CODECADEMY",pages:[{ignored:!1,log_purchase:!1,pageName:"checkout",pattern:"/checkout/?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"confirmation",pattern:"/confirm/?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"courses.lessons.exercises.javascript",pattern:"/courses/.*javascript.*lessons/.*exercises/.*?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"courses.lessons.exercises.react",pattern:"/courses/.*react.*lessons/.*exercises/.*?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"courses.lessons.exercises.python",pattern:"/courses/.*python.*lessons/.*exercises/.*?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"courses.lessons.exercises.java",pattern:"/courses/.*java.*lessons/.*exercises/.*?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"courses.lessons.exercises.c-plus-plus",pattern:"/courses/.*c-plus-plus.*lessons/.*exercises/.*?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"courses.lessons.exercises.other",pattern:"/courses/.*lessons/.*exercises/.*?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"courses.lessons.other",pattern:"/courses/.*lessons/.*?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"courses.other",pattern:"/courses/.*?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"catalog.language.details",pattern:"/catalog/language/.*?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"catalog",pattern:"/catalog.*?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"learn.paths",pattern:"/learn/paths/.*?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"learn.learn-python-3",pattern:"/learn/learn-python-3/?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"learn",pattern:"/learn.*?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"paths.tracks",pattern:"/paths/.*/tracks.*?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"resources",pattern:"/resources.*?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"explore.sorting-quiz",pattern:"/explore/sorting-quiz/?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"career-journey",pattern:"/career-journey/.*?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"account",pattern:"/account/.*?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"article",pattern:"/article/.*?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"forum_questions",pattern:"/forum_questions/.*?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"profiles.details",pattern:"/profiles/.*?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"journeys.details",pattern:"/journeys/.*?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"search",pattern:"/search/?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"login",pattern:"/login/?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"home",pattern:"^https?:\\/\\/([a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?\\.)+[a-z0-9][a-z0-9-]{0,61}[a-z0-9]\\/?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"other"}]};var c=window.IntentProperties?window.IntentProperties.namespace||"intent":"blackcrow",i=window.blackcrow||window.intent||{},d;Array.isArray(i)&&(d=i,i={});i.BUNDLE_NAME="codecademy.js";i.BUILD_NUMBER="12361";i.TAG_SRC=window.blackcrowTagSrc||"JS";window.blackcrow=i;window.intent=i;var u=i.SITE_NAME||"codecademy",Fr="init.blackcrow.ai";document.currentScript&&document.currentScript instanceof HTMLElement?Fr=document.currentScript.src.split("/")[2]:i.TAG_SRC==="ShopifyAppExtension"&&(Fr="shopify-init.blackcrow.ai");var m="https://"+Fr+"/";var Vs=`
`;function j(t,e){if(typeof t=="string"){let o=t.split(Vs);return o.splice(1,e),o.join(Vs)}return""}function Br(){return i.TAG_SRC||"JS"}function S(){return Br()==="ShopifyAppExtension"}function pp(){try{return window.location!==window.top.location}catch{return!0}}function Mr(){return S()?window.location.hostname:window.top.location.hostname}function Us(){return S()?window.location:pp()?window.top.location:window.location}function X(){return Us()?.pathname}function x(){return Us().href}function Z(){return window?.navigator?.userAgent}function Jt(t){return performance&&typeof performance.getEntriesByType=="function"&&performance.getEntriesByType(t)||[]}function To(){return performance&&typeof performance.now=="function"&&performance.now()||0}function Yt(t,e){let o=window.browser;if(S()&&o){o.sendBeacon(t,e);return}window?.navigator?.sendBeacon(t,e)}var mp=["clicktripz","example","partner"],dp=[".shopifypreview.","localhost.","demo.","staging.","development-","development."],lp=["localhost","127.0.0.1"];function gp(){let t=Mr();return t===""||lp.includes(t)}function _p(){let t=Mr(),e=!1;return dp.forEach(o=>{t.indexOf(o)!==-1&&(e=!0)}),e}function Ut(t){return mp.indexOf(t.toLowerCase())!==-1||gp()||_p()}function tt(t,e={},o="info"){if(Ut(u))return;let r="https://monitor-api.blackcrow.ai/",n=!1,s=JSON.stringify({message:t,status:o,service:"javascript-api",version:parseInt("12361",10)||0,ddsource:"browser",ddtags:`env:${n?"dev":"production"}`,"logger.name":"monitor-api","http.useragent":Z(),"view.site":u,...e});Yt(r,s)}function qs(t){let e=Math.random();(t.overrideSampling||e>=.3&&e<.4)&&tt(t.message,{status:t.status||"error","error.kind":t.name,"error.message":t.message,"error.stack":t.stack,"view.url":x(),"view.referrer":document.referrer})}function hp(t){if(typeof t.stack=="string"&&t.stack)return t.stack;try{throw t}catch(e){return j(e.stack,2)}}function Ep(t){let e=!0;return t.skipNotify&&(e=!1),t.message.indexOf("com.gargoylesoftware.htmlunit")!==-1&&(e=!1),e}function yp(t,e){let r=`BlackCrow${e?` ${e}`:""} ${t.stack}`;window.console&&(window.console.error?window.console.error(r):window.console.log(r))}function bo(t,e={}){if(!t)return;try{t.stack=hp(t)}catch{}!1&&yp(t,e.appName),Ep(t)&&typeof bo.sendErrorToServer=="function"&&bo.sendErrorToServer(t)}bo.sendErrorToServer=qs;i.error=bo;function Po(t,e){let o=document.createElement("link");o.rel=e,o.href=t,document.head.appendChild(o)}i.TAG_SRC!=="ShopifyAppExtension"&&!window.blackcrowpreconnected&&(Po("https://api.blackcrow.ai/","preconnect"),Po("https://api.blackcrow.ai/","dns-prefetch"),Po(m,"preconnect"),Po(m,"dns-prefetch"),window.blackcrowpreconnected=1);function w(t,e,o){if(t)if(typeof t.length<"u"){for(let r=0,n=t.length;r<n;r+=1)if(e.call(o,t[r],r,t)===!1)return}else{let r=Object.keys(t);for(let n=0,s=r.length;n<s;n+=1)if(e.call(o,t[r[n]],r[n],t)===!1)return}}var wp="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";var Gs=(t=21)=>{let e="",o=t;for(;o--;)e+=wp[Math.random()*64|0];return e};var Hs=Gs;function A(t,e){if(S())return window.blackcrow.cookie.get(t);e=e||document.cookie;let o={};return w(e.split(/\s?;\s?/),r=>{let n=r.split(/\s?=\s?/);o[n.shift().trim()]=n.join("=").trim()}),o[t]}var $r="_bcai_h",Ue="_bcai_i",Vr="_bcai_e",Ws="_bcai_t",Ks="_bcai_up",Ur="_bcai_vn",qr="_bcai_vs",ko="_bcai_v",qe="_bcai_pu",Gr="_bcai_lpv",Hr="_bcai_spv",Co="_bcai_em",Wr="_bcai_fn",Kr="_bcai_ln",No="_bcai_ph",js="_bcai_koc",Js="_bcai_khs",Ys="_bcai_kps",Xs="_bcai_pwo_ebc",jr="_bcai_ca",Jr="_bcai_ebc",zs="_bcai_nfs",Qs="fbclid",Oo="_fbc",Xt="_fbp",Ro="__kla_id";var Ge;function Yr(){if(Ge)return Ge;let t=document.location.hostname.split("."),e,o,r=t.length;if(r===1)Ge="";else{for(e=`${Ws}${new Date().valueOf()}`;r>2&&(r-=1,o=t.slice(1).join("."),document.cookie=`${e}=${e}; domain=${o}`,e=A(e),document.cookie=`${e}=1; expires=Thu, 01 Jan 1970 00:00:00 GMT; domain=${o}`,!!e);)t.shift();Ge=t.join(".")}return Ge}function V(t,e,o){try{let r;if(o){let s=new Date;s.setTime(s.getTime()+o*60*1e3),r=`;expires=${s.toUTCString()}`}else r="";let n=`${t}=${e}${r};domain=${Yr()};path=/`;S()?(browser.cookie.set(n),window.blackcrow.cookie.set(t,e)):document.cookie=n}catch{}}var ue;function Nt(){return ue||(ue=A(Ue),ue||(ue=Hs(),V(Ue,ue,1051200)),ue)}function vp(t,e){var o,r,n,s,p,f,a,g,_,y;for(o=t.length&3,r=t.length-o,n=e,p=3432918353,a=461845907,y=0;y<r;)_=t.charCodeAt(y)&255|(t.charCodeAt(++y)&255)<<8|(t.charCodeAt(++y)&255)<<16|(t.charCodeAt(++y)&255)<<24,++y,_=(_&65535)*p+(((_>>>16)*p&65535)<<16)&4294967295,_=_<<15|_>>>17,_=(_&65535)*a+(((_>>>16)*a&65535)<<16)&4294967295,n^=_,n=n<<13|n>>>19,s=(n&65535)*5+(((n>>>16)*5&65535)<<16)&4294967295,n=(s&65535)+27492+(((s>>>16)+58964&65535)<<16);switch(_=0,o){case 3:_^=(t.charCodeAt(y+2)&255)<<16;case 2:_^=(t.charCodeAt(y+1)&255)<<8;case 1:_^=t.charCodeAt(y)&255,_=(_&65535)*p+(((_>>>16)*p&65535)<<16)&4294967295,_=_<<15|_>>>17,_=(_&65535)*a+(((_>>>16)*a&65535)<<16)&4294967295,n^=_}return n^=t.length,n^=n>>>16,n=(n&65535)*2246822507+(((n>>>16)*2246822507&65535)<<16)&4294967295,n^=n>>>13,n=(n&65535)*3266489909+(((n>>>16)*3266489909&65535)<<16)&4294967295,n^=n>>>16,n>>>0}var Sp=4294967295,Ip=108;function He(t){return vp(t||"",Ip)/Sp}function q(t={}){let e=Nt(),o=t.name||"",{force:r,allocations:n}=t,s=He(`${e}${o}`);if(r)return n.find(g=>g.name===r)?.value;let p=0,f=[];w(t.allocations,g=>{if(f.push({min:p,max:p+g.percent,value:g.value}),p+=g.percent,p>1)throw new Error("Bucket allocation exceeds 100%")});let a;return w(f,g=>s>=g.min&&s<g.max?(a=g.value,!1):!0),a}function ct(){return document.referrer}function Ae(){return document.title}function Ap(t,e){let o=e.split("[");return o.length>1?t&&t[o[0]]&&t[o[0]][parseInt(o[1],10)]:t&&t[e]}function v(t,e){if(!(!t||!e||typeof e!="string"))return e.split(".").reduce(Ap,t)}function pe(t,e,o,r,n){!t||!e||typeof e!="string"||(e.indexOf(".")!==-1?(e=e.split("."),pe(t,e.shift(),o,e,n)):!r||r.length===0?(!n||!Object.prototype.hasOwnProperty.call(t,e))&&(t[e]=o):((!n||!Object.prototype.hasOwnProperty.call(t,e))&&(t[e]=t[e]||{}),pe(t[e],r.shift(),o,r,n)))}i.storage=i.storage||{};function xp(t,e){let o=i.storage[t].audience;typeof o=="object"&&e?.audience===!1?i.storage[t]={audience:o}:i.storage[t]={}}function z(t){t&&(i.storage[t]=i.storage[t]||{});function e(){return i.storage[t]}return{clear:o=>{t==="bound_events"&&o?xp(t,o):i.storage[t]={}},getAll:()=>e()||{},get:o=>v(e(),o),set:(o,r)=>{let n=e();typeof o=="string"?pe(n,o,r):w(o,(s,p)=>{pe(n,p,s)})},push:(o,r)=>{let n=e(),s=v(n,o);Array.isArray(s)?s.push(r):pe(n,o,[r])}}}var Zs=z("page"),ta="history";function Tp(t,e){return typeof e=="function"?e.toString().replace(/\s+/g," "):e}function ea(){return console.group(`${c} history`),w(Zs.get(ta),t=>{console.groupCollapsed(t.name),console.log("data",JSON.stringify(t.data,Tp,4)),console.log(t.source),console.groupEnd()}),console.groupEnd(),""}function Y(t,e){let o=new Error("");o.name="source",o.stack=j(o.stack,1),Zs.push(ta,{name:t,data:e,source:o})}var bp=Object.prototype.toString,Xr=Array.prototype.slice;function I(t,...e){return t=t||{},w(e,o=>{w(o,(r,n)=>{let s=bp.call(r).split(" ").pop();if(s!=="Undefined]"){if(!r||r===r.window||r.nodeType||r._isVue){t[n]=r;return}if(s==="Object]"){t[n]=t[n]||{},I(t[n],r);return}if(s==="Array]"){t[n]=t[n]||[],t[n]=Xr.call(t[n]).concat(r);return}if(s==="NodeList]"||s==="HTMLCollection]"){t[n]=t[n]||[],t[n]=Xr.call(t[n]).concat(Xr.call(r));return}t[n]=r}})},this),t}window.blackcrow.pushedData=window.blackcrow.pushedData||{};function zr(){let t=window.blackcrow.pushedData;t&&(t.setByFacebookIntercept||t.winLocation!==x())&&(window.blackcrow.pushedData={})}function Lo(t){I(window.blackcrow.pushedData,t,{winLocation:x()})}function Do(t){window.blackcrow.pushedData={...t,winLocation:x()}}function P(t){return v(window.blackcrow.pushedData,t)}var Qr=z("events_api_response"),Zr=z("api_config");function xe(t){let e=new Error(t);return e.name="SequencingError",e.status="warn",e.stack=j(e.stack,1),e}var oa=!1,ra=!1;function na(t,e){if(t){let o=e.get(`data.${t}`);if(typeof o=="string"){let r=o.toLowerCase();return r==="off"||r==="false"?!1:o}return o}return e.get("data")}function tn(t){Zr.set("data",t),ra=!0}function L(t){return ra===!1&&i.error(new xe("Attempting to access apiConfig before it has been set!")),na(t,Zr)}function We(t){Qr.set("data",t),oa=!0}function en(t){return oa===!1&&i.error(new xe("Attempting to access events api response before it has been set!")),na(t,Qr)}function on(){return!!en("history_id")}function Pp(t){let e=new Error(t);return e.name="URIDecodingError",e.status="warn",e.stack=j(e.stack,1),e}function It(t){let e={};if(typeof t=="string"&&t.length){let o=t.split("?");o.shift(),o=o.join("?"),o=o.split("#")[0],w(o.split("&"),r=>{let n=r;try{n=decodeURIComponent(n)}catch{i.error(new Pp(`Unable to decode URI component: ${n}`))}let s=n.indexOf("="),p=s>0?[n.slice(0,s),n.slice(s+1)]:[n];typeof p[1]<"u"&&(e[p[0]]=p[1])})}return e}function G(t,e){return e?It(e)[t]:It(x())[t]}var ia="config.visitor.query_string";function kp(t){let e=t?v(t,ia):L(ia);return e?{param:e.param,separator:e.separator,index:e.index}:{}}function Cp(t){let e=t.param;if(e)return G(e)}function Np(t,e){let o=e.separator,r=e.index;return o&&r?t.split(o)[r]||void 0:t}function sa(t){let e=kp(t),o=Cp(e);if(o)return Np(o,e)}var rn,nn;function Op(){let t,e=window.GoogleAnalyticsObject?window[window.GoogleAnalyticsObject]:window.ga;return e&&typeof e.getAll=="function"&&w(e.getAll(),o=>{try{let r=o.get("clientId");if(r)return t=r,!1}catch{}}),t}function Rp(){if(typeof nn<"u")return nn;let t,e=A("_ga");if(e){let o=e.split(".");o.shift(),o.shift(),t=o.join(".")}return nn=t,t}function zt(t){if(rn)return rn;let e=P("google_id")||sa(t)||window.gaGlobal&&window.gaGlobal.vid||Op()||Rp();return rn=e,e}var aa="blackcrow",ca="cookie",fa="global",ua="google",sn="pushed_data";var me,At=aa.toUpperCase(),xt=ko,Fo=!1;function pa(t,e,o){V(ko,t,1051200),V(qr,e,1051200),V(Ur,o,1051200)}function Te(){if(me)return{id:me,source:At,name:xt,fallback:Fo};if(me=A(ko),me)return At=A(qr)||At,xt=A(Ur)||xt,pa(me,At,xt),{id:me,source:At,name:xt,fallback:Fo};let t=L("config.visitor.id_source"),e=L("config.visitor.id_name"),o=P("visitor_id");if(o&&(At=sn.toUpperCase(),xt="visitor_id"),t===ca){let r=A(e);r&&(o=r,At=t.toUpperCase(),xt=e)}else if(t===fa){let r=v(window,e);r&&(o=r,At=t.toUpperCase(),xt=e)}else if(t===sn){let r=P(e);r&&(o=r,At=t.toUpperCase(),xt=e)}else if(t===ua){let r=zt();r&&(o=r,At=t.toUpperCase(),xt=e)}return o||(o=Nt(),Fo=!0),me=o,pa(o,At,xt),{id:o,source:At,name:xt,fallback:Fo}}function Lp(t){(t.overrideSampling||q({name:"error_sampling",allocations:[{percent:.1,value:!0}]}))&&tt(t.message,{status:t.status||"error","error.kind":t.name,"error.message":t.message,"error.stack":t.stack,"usr.id":Te().id,"view.url":P("page_url")||x(),"view.referrer":P("page_referrer_url")||ct()}),Y(t.name,t)}function ma(){i.error.sendErrorToServer=Lp}function Dp(t){let e={name:"other",major:0,minor:0};if(/googlebot/.test(t)||/adsbot/.test(t)||/bingbot/.test(t)||/bingpreview/.test(t)||/slurp/.test(t)||/storebot/.test(t)||/spider/.test(t)||/crawler/.test(t)||/yandexbot/.test(t)||/ptst[ \/]/.test(t)||/externalhit/.test(t))return e.name="bot",e;let r=/(msie) ([\w.]+)/.exec(t)||/(ucbrowser)[ \/]([\w.]+)/.exec(t)||/(miuibrowser)[ \/]([\w.]+)/.exec(t)||/(opera mini)[ \/]([\w.]+)/.exec(t)||/(opr)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version)?[ \/]([\w.]+)/.exec(t)||/(firefox)[ \/]([\w.]+)/.exec(t)||/(trident)(?:.*? rv:([\w.]+))?/.exec(t)||/(edg)[ \/]([\w.]+)/.exec(t)||/(edge)[ \/]([\w.]+)/.exec(t);if(r){r[1]==="opr"?r[1]="opera":r[1]==="trident"?r[1]="msie":r[1]==="edg"&&(r[1]="edge"),e.name=r[1].replace(/\s+/,"");let n=(r[2]||"").split(/\.|-|_/);e.major=parseInt(n[0],10)||0,e.minor=parseInt(n[1],10)||0}return e}function Fp(t){return!!(t.match(/ipad/)||t.match(/android/)&&!t.match(/mobi|mini|fennec/)||t.match(/macintosh/)&&window.navigator.maxTouchPoints>1)}function Bp(t){return!!t.match(/ip(hone|od)|android.+mobile|windows (ce|phone)|blackberry|bb10|symbian|webos|firefox.+fennec|opera m(ob|in)i|tizen.+mobile|polaris|iemobile|lgtelecom|nokia|sonyericsson|dolfin|uzard|natebrowser|ktf;|skt;/)}function Mp(t){return Bp(t)?"mobile":Fp(t)?"tablet":"desktop"}function de(t){t=t||"";let e=t.toLowerCase();return{browser:Dp(e),deviceType:Mp(e)}}function Lt(t){let e=new Error(t);return e.name="NotSupportedError",e.status="warn",e.stack=j(e.stack,1),e}function $p(){try{return!new Error("")}catch(t){return t}}function Vp(){let t=$p();if(t)throw t.name="NotSupportedError",t.status="warn",t.message="Missing feature: errorConstructor",t}function Up(){let{browser:t}=de(Z());if(typeof t=="object"){let e=t.name,o=t.major;if(e==="bot"||e==="msie"||e==="edge"&&o<15||e==="firefox"&&o<54||e==="chrome"&&o<42||e==="safari"&&o<10||e==="ucbrowser"||e==="miuibrowser"||e==="opera"&&o<38||e==="operamini")return!1}return!0}function qp(t){let e=t?.config?.loadBundleWithShopifyWebPixel??!0;return S()?e:!0}function an(t,e){if(!Up())throw new Lt("Browser not supported");qp(t)&&(Vp(),e())}function Ke(t,e,o){if(t){let n=(t.options||{}).origEvent||{};if(clearTimeout(n.timeout),typeof t.callback=="function"&&!n.timeoutReached){try{t.callback(e)}catch(s){i.error(s)}typeof o=="function"&&o()}}}var Gp=z("bound_events"),Hp=z("triggered_events");function k(t,e,o,r={}){let n={appName:t,eventName:e,callback:o,options:r};Gp.push(`${t}.${e}`,n),w(Hp.get(`${t}.${e}`),s=>{Ke(n,s.data,s.onExec)})}function Et(t,e){let o=new Error(t);return o.name=`${e||""}RequestError`,o.skipNotify=!0,o.stack=j(o.stack,1),o}function Bo(t,e,o){return function(...n){try{return t.apply({},n)}catch(s){o&&o.interval&&clearInterval(o.interval),i.error(s,{appName:e})}}}function Wp(t,e,...o){let r={},n=setInterval.apply(window,[Bo(t,this.appName,r),e].concat(o));return r.interval=n,n}function Kp(t,e,...o){return setTimeout.apply(window,[Bo(t,this.appName),e].concat(o))}function jp(t,e,o,r){let n=o.wrapped||Bo(o,this.appName);o.wrapped=n,t.addEventListener?t.addEventListener(e,n,r):t.attachEvent&&t.attachEvent(e,n)}function Jp(t,e,o,r){o?t.removeEventListener(e,o.wrapped,r):t.removeEventListener(e)}var h={fn:Bo,addListener:jp,removeListener:Jp,setInterval:Wp,setTimeout:Kp};function W(t,e,o,r){function n(s){typeof r=="function"&&r(s)}fetch(t,e).then(s=>{if(s.ok)typeof o=="function"&&o(s);else{let p=`${s.status} ${s.statusText}`;try{s.json().then(f=>{let a=f.errors[0];p=`${a.error_type}: ${a.error_message}`,n(new Error(p))}).catch(()=>{n(new Error(p))})}catch{n(new Error(p))}}}).catch(n)}function U(t,e,o,r){function n(f){let a=new Et(f.message,e.servletName);i.error(a,{customDimensions:{url:t}}),typeof r=="function"&&h.fn(r)(a)}function s(f){if(typeof f!="object"){n(new Error("JSON is not an object"));return}typeof o=="function"&&h.fn(o)(f||{})}function p(f){f.json().then(h.fn(s)).catch(a=>{n(new Error(`Invalid JSON ${a.message}`))})}W(t,e,p,n)}function cn(){let t=Math.round(To());if(!t||t<1)return"0";if(t<10)return"10";let e="0";return w(`${t}`,(o,r)=>{r===0?e=o:e+="0"}),e}var Mo=document.documentElement,da=window.screen,fn=Math.max;function la(){let t=window?.innerHeight+window?.scrollY||0;return fn(Mo?.offsetHeight,Mo?.scrollHeight,t)}function ga(){return S()?window.outerHeight:da?.height}function _a(){return S()?window.outerWidth:da?.width}function le(){return fn(window.pageYOffset,Mo?.scrollTop)}function ha(){return fn(Mo?.clientWidth,window.innerWidth)}function et(t){try{let e=S()?window.blackcrow.localStorage.get(t):window.localStorage.getItem(t);return JSON.parse(e)}catch{}return null}function Dt(t){try{return JSON.parse(window.sessionStorage.getItem(t))}catch{}return null}var un,pn;function Yp(){if(typeof pn<"u")return pn;let t,e=A(Xt);if(e){let o=e.split(".");o.shift(),o.shift(),t=o.join(".")}return pn=t,t}function Ea(){if(un)return un;let t=P("facebook_id")||Yp();return un=t,t}var mn;function Xp(){let t=v(window,"Shopify.checkout.customer_id")||v(window,"ShopifyAnalytics.meta.page.customerId")||v(window,"__st.cid");if(t)return t.toString()}function ya(){if(mn)return mn;let t=Xp();return mn=t,t}var dn;function zp(){try{return JSON.parse(window.atob(A(Ro))).$exchange_id}catch{return}}function ge(){if(dn)return dn;let t=zp();return dn=t,t}function wa(){return window?.ju_config?.ju_vid}function va(){return window?.bouncex?.cookie?.hardID}function Sa(){return window?.bouncex?.cookie?.softID}function Ia(){return window?.edgemesh?.id}function pt(t,e){try{e&&(S()?(window.blackcrow.localStorage.set(t,JSON.stringify(e)),browser.localStorage.setItem(t,JSON.stringify(e))):window.localStorage.setItem(t,JSON.stringify(e)))}catch{}}function Qt(t){return`${Math.random().toString(36).substring(2,3)}${btoa(t)}`}function _e(t){return t?atob(t.substring(1)):void 0}function je(t){try{return document.querySelectorAll(`:is(${t})`)}catch{}try{return document.querySelectorAll(`:matches(${t})`)}catch{}try{return document.querySelectorAll(`:-webkit-any(${t})`)}catch{}try{return document.querySelectorAll(`:-moz-any(${t})`)}catch{return[]}}function Aa(t){h.addListener(window,"message",e=>{if(e.origin&&e.origin.indexOf(".attn.tv")>0){let o=e.data.__attentive||{};o&&o.email&&t(o.email)}})}function xa(t){let e=document.getElementById("continue_button"),o=document.querySelectorAll("input[type=email]");e&&o&&h.addListener(e,"click",()=>{t(o[0]&&o[0].value)})}function $o(){return v(window,"ShopifyCustomer.email")||v(window,"Shopify.checkout.email")||v(window,"Shopify.Checkout.customer.email")}function Ta(){return v(window,"userProperties.email")}function ba(){let t=v(window,"_learnq");if(t&&typeof t.identify=="function")return t.identify().$email}function gn(t){if(t)return t.trim()}function _n(t){return new RegExp(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/).test(t)}function hn(t){let e=gn(t);return e&&_n(e)?e:void 0}function En(t){let e=hn(t);return e?Qt(e):void 0}function be(t){let e=En(t);e&&pt(Co,e)}function Qp(t,e=()=>{}){t.value&&e(t.value)}function Zp(t,e){let o=t.textContent||t.innerText;return o&&(o=o.toLowerCase()),o&&o.indexOf(e.toLowerCase())!==-1}function ln(t){return Zp(t,"email")}function tm(t){if(t.labels){if(Array.from(t.labels).some(o=>ln(o)))return!0}else if(t.id&&Array.from(document.getElementsByTagName("label")).some(o=>o.htmlFor===t.id&&ln(o)))return!0;if(t.parentNode){let e=t.parentNode;return e.tagName.toLowerCase()==="label"&&ln(e)}return!1}function em(t){return Array.from(t).filter(o=>tm(o))}var Pa='input[type="email"], input[autocomplete~="email"], input[placeholder~="email" i], input[type="text"][id*="email" i], input[type="text"][name*="email" i]';function yn(){let t=je(Pa);if(!t.length){let e=document.querySelectorAll('input[type="text"]');e.length&&(t=em(e))}return t}function Vo(t=()=>{}){let e=yn();w(e,o=>{Qp(o,t)}),h.addListener(window,"focusout",o=>{let r=o.target;if(r.matches(Pa)||Array.isArray(e)&&e.includes(r)){let n=r.value;n&&t(n)}})}function ka(t){let e=$o()||Ta()||ba();e&&t(e),Aa(o=>{t(o)}),xa(o=>{t(o)}),Vo(o=>{t(o)})}function Ca(t=()=>{}){let e=$o()||Ta()||ba();return e?(be(e),t()):(Aa(o=>{be(o)}),xa(o=>{be(o)}),Vo(o=>{be(o),t()})),e}function ft(){let t=et(Co)||A(Co);return t?_e(t):void 0}function Zt(t,e){var o=(t&65535)+(e&65535),r=(t>>16)+(e>>16)+(o>>16);return r<<16|o&65535}function om(t,e){return t<<e|t>>>32-e}function Uo(t,e,o,r,n,s){return Zt(om(Zt(Zt(e,t),Zt(r,s)),n),o)}function ot(t,e,o,r,n,s,p){return Uo(e&o|~e&r,t,e,n,s,p)}function rt(t,e,o,r,n,s,p){return Uo(e&r|o&~r,t,e,n,s,p)}function nt(t,e,o,r,n,s,p){return Uo(e^o^r,t,e,n,s,p)}function it(t,e,o,r,n,s,p){return Uo(o^(e|~r),t,e,n,s,p)}function rm(t,e){t[e>>5]|=128<<e%32,t[(e+64>>>9<<4)+14]=e;var o,r,n,s,p,f=1732584193,a=-271733879,g=-1732584194,_=271733878;for(o=0;o<t.length;o+=16)r=f,n=a,s=g,p=_,f=ot(f,a,g,_,t[o],7,-680876936),_=ot(_,f,a,g,t[o+1],12,-389564586),g=ot(g,_,f,a,t[o+2],17,606105819),a=ot(a,g,_,f,t[o+3],22,-1044525330),f=ot(f,a,g,_,t[o+4],7,-176418897),_=ot(_,f,a,g,t[o+5],12,1200080426),g=ot(g,_,f,a,t[o+6],17,-1473231341),a=ot(a,g,_,f,t[o+7],22,-45705983),f=ot(f,a,g,_,t[o+8],7,1770035416),_=ot(_,f,a,g,t[o+9],12,-1958414417),g=ot(g,_,f,a,t[o+10],17,-42063),a=ot(a,g,_,f,t[o+11],22,-1990404162),f=ot(f,a,g,_,t[o+12],7,1804603682),_=ot(_,f,a,g,t[o+13],12,-40341101),g=ot(g,_,f,a,t[o+14],17,-1502002290),a=ot(a,g,_,f,t[o+15],22,1236535329),f=rt(f,a,g,_,t[o+1],5,-165796510),_=rt(_,f,a,g,t[o+6],9,-1069501632),g=rt(g,_,f,a,t[o+11],14,643717713),a=rt(a,g,_,f,t[o],20,-373897302),f=rt(f,a,g,_,t[o+5],5,-701558691),_=rt(_,f,a,g,t[o+10],9,38016083),g=rt(g,_,f,a,t[o+15],14,-660478335),a=rt(a,g,_,f,t[o+4],20,-405537848),f=rt(f,a,g,_,t[o+9],5,568446438),_=rt(_,f,a,g,t[o+14],9,-1019803690),g=rt(g,_,f,a,t[o+3],14,-187363961),a=rt(a,g,_,f,t[o+8],20,1163531501),f=rt(f,a,g,_,t[o+13],5,-1444681467),_=rt(_,f,a,g,t[o+2],9,-51403784),g=rt(g,_,f,a,t[o+7],14,1735328473),a=rt(a,g,_,f,t[o+12],20,-1926607734),f=nt(f,a,g,_,t[o+5],4,-378558),_=nt(_,f,a,g,t[o+8],11,-2022574463),g=nt(g,_,f,a,t[o+11],16,1839030562),a=nt(a,g,_,f,t[o+14],23,-35309556),f=nt(f,a,g,_,t[o+1],4,-1530992060),_=nt(_,f,a,g,t[o+4],11,1272893353),g=nt(g,_,f,a,t[o+7],16,-155497632),a=nt(a,g,_,f,t[o+10],23,-1094730640),f=nt(f,a,g,_,t[o+13],4,681279174),_=nt(_,f,a,g,t[o],11,-358537222),g=nt(g,_,f,a,t[o+3],16,-722521979),a=nt(a,g,_,f,t[o+6],23,76029189),f=nt(f,a,g,_,t[o+9],4,-640364487),_=nt(_,f,a,g,t[o+12],11,-421815835),g=nt(g,_,f,a,t[o+15],16,530742520),a=nt(a,g,_,f,t[o+2],23,-995338651),f=it(f,a,g,_,t[o],6,-198630844),_=it(_,f,a,g,t[o+7],10,1126891415),g=it(g,_,f,a,t[o+14],15,-1416354905),a=it(a,g,_,f,t[o+5],21,-57434055),f=it(f,a,g,_,t[o+12],6,1700485571),_=it(_,f,a,g,t[o+3],10,-1894986606),g=it(g,_,f,a,t[o+10],15,-1051523),a=it(a,g,_,f,t[o+1],21,-2054922799),f=it(f,a,g,_,t[o+8],6,1873313359),_=it(_,f,a,g,t[o+15],10,-30611744),g=it(g,_,f,a,t[o+6],15,-1560198380),a=it(a,g,_,f,t[o+13],21,1309151649),f=it(f,a,g,_,t[o+4],6,-145523070),_=it(_,f,a,g,t[o+11],10,-1120210379),g=it(g,_,f,a,t[o+2],15,718787259),a=it(a,g,_,f,t[o+9],21,-343485551),f=Zt(f,r),a=Zt(a,n),g=Zt(g,s),_=Zt(_,p);return[f,a,g,_]}function nm(t){var e,o="",r=t.length*32;for(e=0;e<r;e+=8)o+=String.fromCharCode(t[e>>5]>>>e%32&255);return o}function im(t){var e,o=[];for(o[(t.length>>2)-1]=void 0,e=0;e<o.length;e+=1)o[e]=0;var r=t.length*8;for(e=0;e<r;e+=8)o[e>>5]|=(t.charCodeAt(e/8)&255)<<e%32;return o}function sm(t){return nm(rm(im(t),t.length*8))}function am(t){var e="0123456789abcdef",o="",r,n;for(n=0;n<t.length;n+=1)r=t.charCodeAt(n),o+=e.charAt(r>>>4&15)+e.charAt(r&15);return o}function cm(t){return unescape(encodeURIComponent(t))}function fm(t){return sm(cm(t))}function um(t){return am(fm(t))}function wn(t){return um(t)}function te(t){return(L("experiments")||[]).find(o=>o.name===t)||{}}var Na={checkout_abandonment:"ca",klaviyo_overlay:"ko",sticky_call_to_action:"pb"};function Tt(t){let e=te(t);if(!e.name)return e;let o=It(x());function r(s,p){let f,a;if(Array.isArray(s)&&s.length&&s[0].value&&typeof s[0].percent=="number")f=`${t}_${p}`,a=s;else if(s.allocations){let g=s.name||p;f=`${t}_${g}`,a=s.allocations}if(f&&a){let g=Na[t]||t,_=s.short_name||p;return q({name:f,allocations:a,force:o[`bcai_${g}_${_}`]})}return s}function n(s,p){if(!s)return s;let f=Array.isArray(s)?[]:{},a;return Object.keys(s).forEach(g=>{let _=p?`${p}_${g}`:g;a=r(s[g],_),f[g]=typeof a=="object"?n(a,_):a}),f}return{name:e.name,active:e.active,data:n(e.data)}}function vn(){if(Tt("pwo_additional_context")?.active){let e=ft();if(e)return wn(`${e}bcai${u}`)}}function Oa(){return window?.__fudge__?.deviceId}var Ra=t=>()=>P(t)||Dt(t)||et(t)||A(t),qo=t=>()=>A(t),Q=(t,e)=>{let o;return()=>(o=o||e(),{platform:t,id:o})},pm=Q("fa",Ea),mm=Q("ga",zt),dm=Q("cdp",Ra("cdp_id")),lm=Q("shop_cid",ya),gm=Q("shop_aid",qo("_shopify_y")),_m=Q("kl_cid",ge),hm=Q("attv_cid",qo("__attentive_id")),Em=Q("ju_cid",wa),ym=Q("bx_hid",va),wm=Q("bx_sid",Sa),vm=Q("tab_cid",Ra("taboola global:user-id")),Sm=Q("bc_cid",qo(Ue)),Im=Q("_bc_i",Nt),Am=Q("_bt_uid",qo("tag_user_id")),xm=Q("_bc_em",vn),Tm=Q("edme_id",Ia),bm=Q("fdg_id",Oa);function Sn(){return[pm(),mm(),dm(),lm(),gm(),_m(),hm(),vm(),Sm(),Im(),Em(),ym(),wm(),Am(),xm(),Tm(),bm()]}var La;function In(){return La||A($r)||void 0}function Da(t){t&&(La=t,V($r,t,1051200))}function Fa(){let t=In()?.split("_",3);if(t)return{page_correlation_id:t[0],session_id:t[1]};i.error(new xe("Attempted to parse historyId before it has been set!"))}var Je=z("page"),Pm={page:{ignored:!1,log_purchase:!1}};function Ba(t){return{page:{ignored:t.ignored,log_purchase:t.log_purchase}}}function Ma(t={},e){let o=P("page_id"),r=Pm;o!==void 0&&t?w(t.filter(f=>f.pageName),f=>{if(f.pageName===o)return r=Ba(f),!1}):o===void 0&&t&&w(t.filter(f=>f.pattern),f=>{try{let a=e.match(f.pattern);if(a){if(o=f.pageName,r=Ba(f),a.length>1)for(let g=1;g<a.length;g+=1)o=o.replace(`$${g}`,a[g]);return!1}}catch{}}),o||(o="other");let n=Je.get("lastUrl"),s=Je.get("lastId"),p=o!==s||e!==n;return Je.set("lastUrl",e),Je.set("lastId",o),{id:o,config:r,isNewPage:p,currentUrl:e,lastUrl:n}}function bt(){return Je.get("lastId")}var $a={};function Va(t){$a=t}function Ua(t,e,o){let r={};return w($a,(n,s)=>{typeof n=="function"?r[s]=n(t[s],e,o):typeof n<"u"&&(r[s]=n)}),r}function km(t,e){return e||(t==="_shopify_y"?"aid":t)}function Cm(t){let e,o=t.value,r=t.nameOverride,n=A(o);return o&&n&&(e={name:km(o,r),value:n}),e}function st(t){let e=[];return t.forEach(o=>{if(o.source==="cookie"){let n=Cm(o);n&&e.push(n)}}),e}function Pt(t,e){let o=[];return t&&e&&o.push({name:t,value:e}),o}function Nm(){let t="0123456789abcdef";return t.charAt(Math.floor(Math.random()*t.length))}function Ye(t){return new Array(t).fill(".",0,t).map(()=>Nm()).join("")}function Xe(){return`${Ye(8)}-${Ye(4)}-${Ye(4)}-${Ye(4)}-${Ye(12)}`}function Pe(t){return t!==void 0?(t*.01).toLocaleString("en-US",{currency:"USD",minimumFractionDigits:2,useGrouping:!1}):void 0}function ze(t){return t?typeof t=="string"?Pe(t.replace(/\D/g,"")*1):t.toString():"0.00"}function Go(t){let[e]=st(t);if(e?.value)return{external_id:e.value}}function qa(){let t=document.getElementById("shopify-pay-alternate-title");if(v(window,"ShopifyPay")&&t)return{custom_dimensions:{payment_type:"shop-pay"}};if(v(window,"Shopify.checkout")){let e=document.getElementsByClassName("payment-icon");if(e.length&&e[0].textContent)return{custom_dimensions:{payment_type:e[0].textContent.trim()}}}}function An(){let t={},e=v(window,"Shopify.checkout");if(e&&(I(t,{event_id:e.order_id,total_price:ze(e.total_price),currency:e.presentment_currency,shipping_method:e.shipping_rate?.title,shipping_price:ze(e.shipping_rate?.price),cart:e.line_items&&e.line_items.map(o=>({id:o.product_id,price:ze(o.price),quantity:o.quantity,categories:[o.title],msrp:ze(o.line_price),color:o.variant_title,brand:o.vendor}))}),e.discount)){let o=e.discount;I(t,{discounts:[{code:o.code,discount_amount:o.amount,discount_currency:e.currency,discount_percent:o.rate,applicable:o.applicable,reason:o.reason}]})}return t}function xn(t){return{destination_airport:t.destination_airport,destination_city:t.destination_city,destination_country:t.destination_country,destination_state:t.destination_state,end_date:t.end_date,lodging_id:t.lodging_id,origin_airport:t.origin_airport,rooms:t.rooms,start_date:t.start_date,travelers:t.travelers}}function Tn(){return P("partner_controlled_experiments")}var Om=.1,Ga=q({name:"performance_sampling",allocations:[{percent:Om,value:!0}]});function Qe(t=`${m}js/core/`){try{let e=Jt("resource").find(o=>o.name.includes(t));return e&&e.startTime}catch{i.error(new Lt("Unable to get start time: Browser does not support PerformanceResourceTiming interface"));return}}function Rm(){try{let t=Jt("resource").find(e=>e.name.includes("gtm.js"));return t&&t.startTime}catch{i.error(new Lt("Unable to get start time: Browser does not support PerformanceResourceTiming interface"));return}}function Ha(){try{let t=Jt("resource").find(e=>e.name.includes(`${m}js/core/`));if(t){let{name:e}=t;if(e.includes("shopify-init"))return"SHOPIFY";if(e.includes("source=gtm"))return"GTM"}return"JS"}catch{i.error(new Lt("Unable to get start time: Browser does not support PerformanceResourceTiming interface"));return}}function Lm(){let t=Qe(),e=Ha();if(t&&e==="GTM"){let o=Rm();if(o)return t-o}}function Dm(){try{let t=Jt("resource").find(e=>e.name.includes("https://api.blackcrow.ai/v1/events/view"));return t&&t.startTime}catch{i.error(new Lt("Unable to get time to view request: Browser does not support PerformanceResourceTiming interface"));return}}function Wa(){if(Ga){let t=Qe(),e=Ha()||"unknown",o=e==="GTM"?Lm()||"unknown":"N/A";t&&tt(`Initial script load after ${t} ms`,{"script.start_time":t,"script.load_method":e,"script.time_since_gtm_start":o,"view.url":P("page_url")||x(),"view.referrer":P("page_referrer_url")||ct()})}}function Ka(){if(Ga){let t=Dm()-Qe();t&&tt(`Time to initiate view request: ${t} ms`,{"script.time_to_view":t,"view.url":P("page_url")||x(),"view.referrer":P("page_referrer_url")||ct()})}}function ja(){return{nb:{active:!!window.Northbeam},tw:{active:!!window.TriplePixel},bt:{active:!!window.edgetag}}}var b={VIEW:"view",PURCHASE:"purchase",DELAYED_PURCHASE:"delayed_purchase",BAD_ACTOR_TIMEOUT:"bad_actor_timeout",BAD_ACTOR_BEFOREUNLOAD:"bad_actor_beforeunload",PWO_IMPR:"pwo_impression",PWO_EMAIL_LEAD:"pwo_email_lead",PWO_SMS_LEAD:"pwo_sms_lead",PWO_CLOSE:"pwo_close",PWO_OPEN_ATTEMPT:"pwo_open_attempt",PWO_DECISION:"pwo_decision",CA_CART_CHECKOUT:"ca_cart_checkout",CA_PAYMENT:"ca_payment",CA_SHIPPING_EXIT:"ca_shipping_exit",CA_TEST:"ca_test",DEVICE_MOTION:"device_motion",DISCOUNT_APPLIED:"discount_applied",DISCOUNT_INTERACTION:"discount_interaction",MARKETING_CHECKOUT_EVENT:"marketing_checkout_event",KLAVIYO_OPEN:"klv_open",KLAVIYO_CLOSE:"klv_close",KLAVIYO_LEAD:"klv_lead",KLAVIYO_SPLIT:"klv_split",PRED_WELCOME_PLATFORM_LOADED:"pred_welcome_platform_loaded",OUT_OF_STOCK:"out_of_stock",PAYMENT_METHOD_CLICK:"payment_method_click",HEADER_CLICK:"header_click",PREDICTIVE_BUTTON:"predictive_button",PREDICTIVE_BUTTON_DECISION:"predictive_button_decision",PRED_WELCOME_DECISION:"pred_welcome_decision",EXIT_INTENT:"exit_intent",RB_ACTIVE:"rb_active",PRED_WELCOME_OPEN_ATTEMPT:"pred_welcome_open_attempt",PRED_WELCOME_OPEN_LISTENER_SET:"pred_welcome_open_listener_set"};function Ho(){return{api_client_type:"JS",api_client_version:"12361",api_client_source:Br()}}function Ft(t){let e=P(`custom_${t}`);return typeof e=="object"?Array.isArray(e)?String(e):JSON.stringify(e):e}function Fm(t,...e){return t=t||{},w(e,o=>{w(o,(r,n)=>{(r||r===0||r===!1)&&(t[n]=r)})}),t}function Bm(){return{coupon:P("coupon"),shipping_method:P("shipping_method"),shipping_price:P("shipping_price"),total_price:P("total_price"),zip_code:P("zip_code"),custom_1:Ft(1),custom_2:Ft(2),custom_3:Ft(3),custom_4:Ft(4),custom_5:Ft(5),custom_6:Ft(6),custom_7:Ft(7),custom_8:Ft(8),custom_9:Ft(9),custom_10:Ft(10),traffic_groups:P("traffic_groups"),partner_controlled_experiments:Tn(),referrer_source:P("referrer_source"),referrer_medium:P("referrer_medium"),referrer_campaign:P("referrer_campaign"),referrer_term:P("referrer_term"),cart:P("cart"),currency:P("currency"),is_logged_in_user:P("user_is_logged_in"),user_has_subscription:P("user_has_subscription")}}function Mm(t){let e=Te();return{metadata:Ho(),build:"12361",site_name:u,custom_dimensions:P("custom_dimensions"),device_info:Z(),device_width:_a(),device_height:ga(),page_id:t,page_url:P("page_url")||x(),page_referrer_url:P("page_referrer_url")||ct(),page_title:P("page_title")||Ae(),page_time:cn(),visitor_id:e.id,internal_id:Nt(),member_id:P("member_id"),history_id:In(),user_identifiers:Sn(),user_metadata:{visitor_id:{source:e.source,name:e.name,fallback_used:e.fallback}},bundle_load_start:Qe(),attr:ja()}}function $m(t){return t?["view","purchase","delayed_purchase"].includes(t):!0}function Vm(t){return t?["view","purchase"].includes(t):!0}function Um(t){return t?t==="purchase":!0}var qm={travel:xn};function Gm(){let t={};return w(qm,(e,o)=>{let r=P(`${o}`);r&&(t[o]=e(r))}),t}function Hm(t){["custom_dimensions","event_id"].forEach(o=>{t[o]===void 0&&(t[o]="")})}function Wm(t){return[b.PWO_DECISION,b.PWO_OPEN_ATTEMPT,b.PWO_IMPR,b.PWO_EMAIL_LEAD,b.PWO_SMS_LEAD,b.PWO_CLOSE].includes(t)}function bn(t,e={}){let o=e.page_id||bt(),r=Mm(o);return $m(t)&&(r={...r,...Bm()},I(r,Gm(),An())),Um(t)&&r.purchase_type===void 0&&(r.purchase_type=""),Wm(t)&&(r={...r,...e}),Hm(r),w(r,(n,s)=>{typeof e[s]<"u"&&(r[s]=e[s])}),Vm(t)||I(r,{custom_dimensions:Fa()}),Fm({},r,Ua(r,t,o))}var Km=500,Pn={},kn={};function Cn(){kn={},Pn={}}function Ja(t){return kn[t]||0}function jm(t){let e=!1,o=t==="view"?1:L(`config.events.${t}.dedupe.limit_per_page`);return o&&(e=Ja(t)>=o),e?"limit_per_page":""}function Jm(t,e){return t.startsWith("datalayer-")||[b.PREDICTIVE_BUTTON,b.KLAVIYO_OPEN].includes(t)?"":e-(Pn[t]||0)<Km?"debounce":""}function Ym(t,e,o){let r="",n=e.event_id,s=L(`config.events.${t}.dedupe.time_threshold`);if(n||s){let p=et(Vr)||{},f=p[t]||{};s&&o-(f.time||0)<parseInt(s,10)&&(r="time_threshold"),!r&&n&&n===f.id&&(r="repeat_id"),r||(p[t]={time:o,id:n},pt(Vr,p))}return r}function Ya(t,e){let o=Date.now(),r=Jm(t,o)||jm(t)||Ym(t,e,o);return r||(kn[t]=Ja(t)+1,Pn[t]=o),r}var Xa="EventsAPI";function O(t,e,o,r){let n=`https://api.blackcrow.ai/v1/events/${t}?`;Ut(u)&&(n=`https://api.sandbox.blackcrow.ai/v1/events/${t}?`);let s=bn(t,e),p=Ya(t,s);if(p){i.error(new Et(`Duplicate ${t}: ${p}`,Xa));return}let f=JSON.stringify(s),a={servletName:Xa,method:"POST",cache:"no-cache",body:f};Y(`request: ${t}`,{body:f}),U(n,a,o,r)}function za(t){let e="https://api.blackcrow.ai/v1/events/platform?";Ut(u)&&(e="https://api.sandbox.blackcrow.ai/v1/events/platform?");let o=JSON.stringify(t);Yt(e,o)}var E={START:"start",SESSION:"session",SET:"set",EXTEND:"extend",REFRESH:"refresh",PARTNER_EVENT:"partner_event",VIEW:"view",VIEW_RESPONSE:"view_response",PURCHASE:"purchase",SCORES_UPDATE:"scores_update",PWO_IMPR:"pwo_impression",PWO_EMAIL_LEAD:"pwo_email_lead",PWO_SMS_LEAD:"pwo_sms_lead",PWO_CLOSE:"pwo_close",PWO_OPEN_ATTEMPT:"pwo_open_attempt",OVERRIDES:"overrides",CLEAR_OVERRIDES:"clear_overrides",DISCOUNT_APPLIED:"discount_applied",DISCOUNT_INTERACTION:"discount_interaction",OUT_OF_STOCK:"out_of_stock",CA_CART_CHECKOUT:"ca_cart_checkout",CA_PAYMENT:"ca_payment",CA_SHIPPING_EXIT:"ca_shipping_exit",HEADER_CLICK:"header_click",KLAVIYO_OPEN:"klv_open",KLAVIYO_CLOSE:"klv_close",KLAVIYO_LEAD:"klv_lead",PAYMENT_METHOD_CLICK:"payment_method_click",PREDICTIVE_BUTTON:"predictive_button",EXIT_INTENT:"exit_intent",RB_ACTIVE:"rb_active",PRED_WELCOME_PLATFORM_LOADED:"pred_welcome_platform_loaded",ADD_TO_CART:"add_to_cart",INITIATE_CHECKOUT:"initiate_checkout"};var Xm=["purchase","referral","call","update_account"],zm=["purchase","referral","call"];function Qa(t){return Xm.indexOf(t)!==-1}function Qm(t){let e=t.trigger,o=t.data||{};e==="call"&&(o.purchase_type="call"),zm.indexOf(e)!==-1&&(e=b.PURCHASE),O(e,o)}function Za(){k("platform",E.PARTNER_EVENT,Qm)}function Nn({appName:t,eventName:e,data:o,sendFn:r}){let n={namespace:c,app_name:t,event_name:e,data:o};if(r)r(n,"*");else try{window.top.postMessage(n,"*")}catch(s){if(s instanceof DataCloneError)i.error(new Lt("Attempting to post invalid message object"));else throw s}}var Zm=z("bound_events"),td=z("triggered_events");function at(t,e,o,r){r=r||{},r.noCache||td.push(`${t}.${e}`,{data:o,onExec:r.onExec});let n=Zm.get(`${t}.${e}`);w(n,s=>{Ke(s,o,r.onExec)}),r.postMessage&&Nn({appName:t,eventName:e,data:o})}function D(t,e=()=>{},o=9,r=300,n=!1){try{return t()}catch(s){return o?h.setTimeout(()=>D(t,e,o-1,n?r*2:r,n),r):e(s)}}function ed(){S()||(i.postMessageEventListener&&h.removeListener(window,"message",i.postMessageEventListener),i.postMessageEventListener=t=>{let e=t.data||{};e.namespace===c&&(Y(`trigger: ${e.event_name}`,e.data),at(e.app_name||"platform",e.event_name,e.data))},h.addListener(window,"message",i.postMessageEventListener))}function ke(t){if(!t)return;let e=t.app_name||"platform",o=t.data,r=t.trigger;if(r){Y(`trigger: ${r}`,t),r===E.EXTEND?Lo(o):r===E.SET?Do(o):Qa(r)?at(e,E.PARTNER_EVENT,t):at(e,r,o);return}let n=t.bind;if(n){Y(`bind: ${n}`,t),k(e,n,t.callback,{origEvent:t});return}Y("unrecognized",t)}function tc(){w(d,t=>{ke(t)})}function ec(){return D(()=>ed(),t=>i.error(t)),ke}function On(){ec(),i.push=ke,i.history=ea}var oc="IntentProperties";function qt(t){return t?v(window[oc],t):window[oc]}function Rn(){let t=qt();if(t){let e={page_id:t.page_id,visitor_id:t.visitor_id||t.publisher_user_id,member_id:t.member_id,user_is_logged_in:t.is_logged_in_user,user_has_subscription:t.user_has_subscription,page_url:t.page_url,page_referrer_url:t.page_referrer_url,page_title:t.page_title,referrer_source:t.referrer_source,site_currency:t.site_currency,site_country:t.site_country,site_language:t.site_language,site_name:t.site_name,traffic_groups:t.traffic_groups,custom_1:t.site_custom_1,custom_2:t.site_custom_2,custom_3:t.site_custom_3,custom_4:t.site_custom_4,custom_5:t.site_custom_5,custom_6:t.site_custom_6,custom_7:t.site_custom_7};t.cart&&(e.cart=t.cart),t.travel&&(e.travel=I({},{start_date:t.travel.start_date,end_date:t.travel.end_date,origin_airport:t.travel.origin_airport,destination_airport:t.travel.destination_airport,travelers:t.travel.travelers})),ke({trigger:E.EXTEND,data:e})}}var od=z("bound_events"),rd=z("triggered_events");function Ln(){od.clear(L("config.clearBindings")),rd.clear()}function Ze(){let t=v(window,"Shopify.checkout.total_tax");if(t)return t;let e=document.querySelectorAll("[data-checkout-total-taxes-target]");return e.length?e[0].textContent.startsWith("$")?e[0].textContent.trim().substring(1):e[0].textContent.trim():"0.00"}function C(t){/complete|interactive|loaded/.test(document.readyState)?t():h.addListener(document,"DOMContentLoaded",()=>{t()})}function nd(){return{total_price:qt("total_price"),coupon:qt("coupon"),shipping_method:qt("shipping_method"),shipping_price:qt("shipping_price"),zip_code:qt("zip_code")}}function rc(){let t=qa(),e={custom_dimensions:{tax_amount:window.Shopify?Ze():void 0},total_price:window.cart_json?.total_price};return I({},t,e)}function id(){window.IntentProperties&&Lo(nd()),V(Ks,!0,1051200),O(b.PURCHASE,rc())}function Dn(){L("page.log_purchase")&&(id(),C(()=>{O(b.DELAYED_PURCHASE,rc())}))}function ic(t){h.addListener(window,"message",e=>{if(e.origin&&e.origin.indexOf(".attn.tv")>0){let o=e.data.__attentive||{};o&&o.phone&&t(`+1${o.phone}`)}})}function sc(t){let e=document.getElementById("continue_button"),o=document.querySelectorAll("input[type=tel]");e&&o&&h.addListener(e,"click",()=>{if(o[0]){let r=o[0].value;t(r)}})}function ac(){return v(window,"Shopify.checkout.phone")}function cc(){let t=v(window,"_learnq");if(t&&typeof t.identify=="function")return t.identify().$phone}function sd(t){let e=t.match("\\+")?t:`+1${t}`;return e=e.replace(/^(\+)|\D/g,"$1"),e}function ad(t){return new RegExp(/^\+\d{10,14}$/g).test(t)}function Fn(t){let e=sd(t);return ad(e)?Qt(e):void 0}function Wo(t){let e=Fn(t);e&&pt(No,e)}function cd(t,e=()=>{}){t.value&&e(t.value)}var nc='input[type="tel"], input[autocomplete~="tel"], input[type="text"][id*="phone" i], input[type="text"][name*="phone" i]';function fc(t=()=>{}){let e=je(nc);w(e,o=>{cd(o,t)}),h.addListener(document,"focusout",o=>{let r=o.target;if(r.matches(nc)){let n=r.value;n&&t(n)}})}function uc(t){let e=ac()||cc();e&&t(e),ic(o=>{t(o)}),sc(o=>{t(o)}),fc(o=>{t(o)})}function pc(t=()=>{}){let e=ac()||cc();return e?(Wo(e),t()):(ic(o=>{Wo(o)}),sc(o=>{Wo(o)}),fc(o=>{Wo(o),t()})),e}function Ko(){let t=et(No)||A(No);return t?_e(t):void 0}function Bt(){return!!v(window,"Shopify")}function to(){return Bt()&&X()?.includes("products")}function fd(){return Bt()&&X()==="/"}function Ce(){return!!v(window,"Shopify.Checkout")}function ud(){let t=v(window,"Shopify.Checkout.isOrderStatusPage"),e=v(window,"Shopify.checkout");return t!==void 0||e!==void 0}function ee(){return v(window,"Shopify.Checkout.currency")||v(window,"cart_json.currency")||v(window,"Shopify.currency.active")||v(window,"afterpay_shop_currency")}function jo(){return v(window,"Shopify.Checkout.totalPrice")?.toString()}function kt(){if(!Bt())return;let t=v(window,"Shopify.Checkout.step");if(t)switch(t){case"payment_method":return"payment";case"shipping_method":return"shipping";case"contact_information":return"contact";case"thank_you":return"confirmation";default:return t}return ud()?"order_status":to()?"products":fd()?"index":X()}function pd(t){let e=document.getElementById("continue_button"),o=document.getElementById("checkout_shipping_address_first_name"),r=document.getElementById("checkout_shipping_address_last_name");e&&o&&r&&h.addListener(e,"click",()=>{t(o.value,r.value)})}function mc(){pd((t,e)=>{pt(Wr,Qt(t)),pt(Kr,Qt(e))})}function dc(){let t=et(Wr);return t?_e(t):void 0}function lc(){let t=et(Kr);return t?_e(t):void 0}function md(t){if(t)return t.replace(/['.,/#!$%^&*;:{}=\-_`~()]/g,"")}function Jo(t){let e=md(t);return e?Qt(e):void 0}function dd(t,e){let o=t[e];if(o){let{first_name:r,last_name:n}=o;if(n){let s={fn:r,ln:n};return r&&(s.fln=`${r} ${n}`),I({},s)}}}function gc(){let t=[],e=Bt()&&v(window,"Shopify.checkout");return e&&["billing_address","credit_card","shipping_address"].forEach(o=>{let r=dd(e,o);r&&t.push(r)}),t.length?t:void 0}function Ct(t,e){let o=document.createElement(t);return Object.keys(e).forEach(n=>{o[n]=e[n]}),o}function _c(t,e){let o=encodeURIComponent(t);return e&&(o=o.replace(/%2C/g,",")),o}function ut(t,e=!0){let o=[];return w(t,(r,n)=>{if(r!=null&&r!==""){let s=typeof r;s==="function"?r=r.name:s==="object"&&(Array.isArray(r)?r=r.toString():r=JSON.stringify(r)),o.push(`${_c(n,e)}=${_c(r,e)}`)}}),o.join("&")}function Bn(t){if(!t||!crypto||!crypto.subtle||typeof crypto.subtle.digest!="function")return Promise.resolve(void 0);let e=new TextEncoder().encode(t);return crypto.subtle.digest("SHA-256",e).then(o=>Array.from(new Uint8Array(o))).then(o=>o.map(r=>r.toString(16).padStart(2,"0")).join(""))}function Yo(t){let e=Object.keys(t).map(o=>Bn(t[o]).then(r=>{t[o]=r}));return Promise.all(e).then(()=>I({},t))}var ld="facebook_ads";function Xo(){let t=Ko(),e={em:ft(),ph:t&&t.replace(/\D/g,""),fn:dc(),ln:lc()};return I({},e)}function hc(t,e,o){let r=`https://www.facebook.com/tr?id=${t}&ev=${e}`;return Yo(Xo()).then(n=>{w(n,(s,p)=>{r+=`&ud[${p}]=${s}`})}).then(()=>{w(o,(s,p)=>{r+=`&cd[${p}]=${s}`});let n=A(Xt);return n&&(r+=`&fbp=${n}`),r})}function Ec(t,e,o){return hc(t,e,o).then(r=>{let n=Ct("img",{width:1,height:1,src:r});n.style.display="none",document&&document.body&&typeof document.body.append=="function"&&document.body.append(n)})}function Mn(t,e,o,r){return hc(t,e,o).then(n=>{n+="&",n+=ut({dl:x(),rl:document.referrer}),D(()=>{W(n,{method:"GET"},r,s=>{throw s})},s=>i.error(new Error(`${ld} api call failed with message ${s.message}`)),9,300,!0)})}var oe="measure";function F(t,e="|"){return t.filter(o=>o!=null&&o!=="").join(e)}function B(t){let e=Number(t);return isNaN(e)?t:e}function yc(t){let e=`${t}`;return e.length===1?`0${e}`:e}function zo(t,e=""){if(t)return`${t.getFullYear()}${e}${yc(t.getMonth()+1)}${e}${yc(t.getDate())}`}function Qo(){return window.ShopifyAnalytics&&window.ShopifyAnalytics.lib&&window.ShopifyAnalytics.lib.config&&window.ShopifyAnalytics.lib.config["Facebook Pixel"]&&window.ShopifyAnalytics.lib.config["Facebook Pixel"].conversionsAPIEnabled}var T="Integration not available";var wc=0;function eo(){return wc+=1,wc}function $n(t,e){return typeof t=="string"&&typeof e=="string"?t.localeCompare(e,void 0,{sensitivity:"accent"})===0:t===e}function Vn(t,e="PWO",o=["formBuckets","overlayBuckets","overlayBuckets_triggerBuckets","overlayBuckets_triggerBuckets_formBuckets"]){if(t?.overlaySetting===void 0||t?.overlaySetting===null)return t;let r=It(x());function n(p,f){let a,g;if(Array.isArray(p)&&p.length){let _=JSON.parse(JSON.stringify(p));typeof _[0].percent!="number"&&o.includes(f)&&(_[0].percent=1),typeof _[0].percent=="number"&&(a=`${e}_${f}`,g=_.map(y=>({percent:y.percent,value:{...y}})))}if(a&&g){let _=e,y=p.short_name||f;return q({name:a,allocations:g,force:r[`bcai_${_}_${y}`]})}return p}function s(p,f){if(p==null)return p;let a=Array.isArray(p)?[]:{},g;return Object.keys(p).forEach(_=>{let y=f?`${f}_${_}`:_;g=n(p[_],y),a[_]=typeof g=="object"?s(g,y):g}),a}return{...t,overlaySetting:s(t.overlaySetting)}}function vc(t){let e=t?.formBuckets?.formConfig;return t?.overlayBuckets?.triggerBuckets?.formBuckets?.formConfig!==void 0&&Object.keys(t.overlayBuckets.triggerBuckets.formBuckets.formConfig).length>0&&(e=t.overlayBuckets.triggerBuckets.formBuckets.formConfig),{formId:de(Z()).deviceType==="mobile"?e?.mobile:e?.desktop,profile:e?.profile}}function Gt(t){if(t){let e=L("apps")||[];if(e)return e.find(o=>$n(o.app,t))||{}}return{}}function Zo(t){let e=Gt(t).platforms||[],o=[];return e.forEach(r=>{o.push(r.platform.toLowerCase())}),o}function $(t,e){if(t&&e){let o=Gt(t);if(o)return(o.platforms||[]).find(s=>$n(s.platform,e))||{}}return{}}function Ne(t){return t?Vn(Gt(t),t).overlaySetting||{}:{}}function re(t){return t?Gt(t).identitySetting||{}:{}}function R(t){let e=new Error(t);return e.name="GlobalInterfaceError",e.status="warn",e.stack=j(e.stack,1),e}function Un(){(function(t,e,o,r,n,s,p){t.fbq||(n=t.fbq=function(){n.callMethod?n.callMethod.apply(n,arguments):n.queue.push(arguments)},t._fbq||(t._fbq=n),n.push=n,n.loaded=!0,n.version="2.0",n.queue=[],s=e.createElement(o),s.async=!0,s.src=r,p=e.getElementsByTagName(o)[0],p.parentNode.insertBefore(s,p))})(window,document,"script","https://connect.facebook.net/en_US/fbevents.js")}function tr(t){return e=>{e.message===T?i.error(new R(t)):i.error(e)}}function er(t,e){S()||(Un(),window.fbq("init",t,e))}var Oe="facebook_ads",Ic="trackCustom";function Ac(t,e){window.fbq("init",t,e),Lc({location:"init"},"FB init event not sent")}function xc(t){if(typeof window.fbq!="function"||typeof window.fbq.getState!="function")throw new Error(T);if(typeof window.fbq.getState().then=="function")window.fbq.getState().then(({pixels:e})=>{e&&e.length>0&&t(e)});else if(window.fbq.getState().pixels&&window.fbq.getState().pixels.length>0)t(window.fbq.getState().pixels);else throw new Error(T)}function or(){return L("facebookAccounts")||[]}function Tc(t){return t===void 0?Qo():t}function qn(){return F([c,"validation"])}function bc(t){t.forEach(e=>{let o=e.pixelId,r=e.advancedMatching;if(o){let n=Tc(r)?Xo():{};S()?Mn(o,qn(),n):Ac(o,n)}})}function gd(t,e){let o=or();o.length&&bc(o,!0),e()}function _d(t,e){Un();let o=or();function r(){xc(n=>{n.forEach(s=>{Tc()&&Ac(s.id,Xo())})})}D(()=>{if(typeof window.fbq!="function")throw new Error(T);o.length?bc(o):r(),e()},tr(`${Oe} globals not found`))}function Pc(t,e,o){return function(){typeof t=="function"&&t(Oe,{eventName:e,eventObject:o})}}function kc(t,e,o,r){let n=Pc(r,e,o),s=or();s.length&&s.forEach(p=>{let f=p.pixelId;Mn(f,e,o,n)})}function Cc(t,e,o,r){let n=Pc(r,e,o);xc(()=>{window.fbq(Ic,e,o),n()})}function hd(t,e){or().forEach(r=>{let n=r.pixelId;n&&Ec(n,t,e)})}function Nc(t,e,o,r){return n=>(hd(t,e),typeof r=="function"&&r(`${Oe}`,{eventName:t,eventObject:e},"score_push_img_pixel"),o(n))}function Ed(t){return`${c}_${t}`}function yd(t,e,o){let r;return t===oe?r=F([c,o],"_"):r=F([e,o]),r}function wd(t,e){return{app_name:t,integration_product:e.integration_product,conversion_product:e.conversion_product,conversion_type:e.conversion_type,comparison_population:e.comparison_population,comparison_group:e.comparison_group,comparison_type:e.comparison_type,threshold_setter:e.threshold_setter,threshold_group_count:e.threshold_group_count,score:B(e.score),event_date:zo(new Date,"-"),eventDate:zo(new Date)}}function Oc(t,e){let o=Ed(t);return{eventName:yd(t,o,e.integration_product),eventObject:wd(o,e)}}function vd(t,e,o){if(!t)return;let r=Oc(e,t);kc(e,r.eventName,r.eventObject,o)}function Sd(t,e,o){if(!t)return;let r=Oc(e,t),n=r.eventName,s=r.eventObject;D(()=>Cc(e,n,s,o),Nc(n,I({},s,{eventHitId:eo()}),tr(`${Oe} globals not found`),o),80,150)}function Rc(){let t=$("target",Oe);return t&&Object.keys(t).length>0}function Id(t){if(Rc()){let e=qn();kc("target",e,I({},t,{eventHitId:eo()}))}}function Lc(t,e){if(Rc()){let o=qn();D(()=>Cc("target",o,I({},t,{eventHitId:eo()})),Nc(o,I({},t,{eventHitId:eo()}),tr(e),80,150))}}function Ad(t,e,o){S()?vd(t,e,o):Sd(t,e,o)}function Sc(t,e){S()?gd(t,e):_d(t,e)}function xd(t,e){S()?Id(t):Lc(t,e)}var Mt={eventHitType:Ic,name:Oe,identify:Sc,setup:Sc,send:Ad,sendValidationEvent:xd};var yt="audience";function mt(t){return en(`apps.${t}`)}var Dc="o",Fc=`${c}_audience|score_update`,Gn=`${c}_score`,Bc=`contextData.${Gn}`;function H(t,e){return(o,r,n)=>{if(!o)return;function s(p){p.message===T?i.error(new R(`${t} globals not found`),{appName:r}):i.error(p)}D(()=>e(o,r,n),s)}}var Hn="adobe_analytics";function bd(t,e,o){let r=v(window,"s.tl");if(typeof r=="function"){let n={contextData:{[Gn]:B(t.score)},linkTrackVars:Bc};r(!0,Dc,Fc,n),typeof o=="function"&&o(Hn,n);return}throw new Error(T)}var Wn={name:Hn,send:H(Hn,bd)};var Mc="event";var Kn="dynamic_yield";function Pd(t){return t==="1"?"low":t==="2"?"medium":"high"}function kd(t,e,o){let r=v(window,"DY.API"),n;t.threshold_group_count==="3"&&(n=Pd(t.score));let s=F([c,t.comparison_group.toLowerCase(),n||`score_${t.score}`]);if(typeof r=="function"){let p=B(t.score);r(Mc,{name:s,properties:{}}),typeof o=="function"&&o(Kn,{EVENT_PREFIX:`${c}_${e}`,score:p})}else throw new Error(T)}var jn={name:Kn,send:H(Kn,kd)};function oo(t){let e=new Error(t);return e.name="ConfigDataError",e.status="warn",e.stack=j(e.stack,1),e}var Vc="event",ro="owox",rr=[];function Cd(t){let e=zt();if(e)t(e);else throw new Error(T)}function $c(t,e,o,r){t.cid=e,t.z=Date.now(),W(`https://google-analytics.bi.owox.com/${o}?${ut(t)}`,{method:"GET"},()=>r(ro,t))}function Nd(t,e,o){let r=window.GoogleAnalyticsObject?window[window.GoogleAnalyticsObject]:window.ga,s=$(e,ro).tracking_id;if(typeof r=="function"){let p=h.setTimeout(()=>{i.error(new R(`${ro} ready hook not fired`))},5e3);r(f=>{if(clearTimeout(p),s=s||f&&f.get("trackingId"),s||w(r.getAll(),a=>{let g=a.get("trackingId");if(g)return s=g,!1}),s){if(!t)return;let a=`${c}_${e}`,g=F([a,t.integration_product,t.conversion_product,t.conversion_type]),_=F([t.comparison_type,t.threshold_setter,t.threshold_group_count,t.comparison_population,t.comparison_group]);rr.push({v:1,ni:1,t:Vc,tid:s,dl:x(),ec:g,ea:_,el:B(t.score)}),Array.isArray(rr)&&D(()=>Cd(y=>{let N=rr;rr={push:M=>{$c(M,y,s,o)}},N.forEach(M=>{$c(M,y,s,o)})}))}else i.error(new oo(`${ro} tracking id not found`))})}}var Jn={eventHitType:Vc,name:ro,send:Nd};var Od=q({name:"kpi_sampling",allocations:[{percent:.1,value:!0}]});function Ht(t,e,o){Od&&tt(`${o} ${e}`,{"evt.name":o,"evt.integration":e,appName:t,"usr.id":Te().id,"view.url":P("page_url")||x(),"view.referrer":P("page_referrer_url")||ct()})}var Yn={[Wn.name]:Wn,[jn.name]:jn,[Jn.name]:Jn};function Xn(t,e,o){Ht(yt,t,e),Y(`${yt} ${e}: ${t}`,o)}function Rd(t,e){Yn[t]!==void 0&&e&&w(e,o=>{o.name&&Yn[t].send(o,yt,(r,n)=>{Xn(r,"score_push",n)})})}function Ld(){let t=mt(`${yt}.scores`);t&&t.length&&at(yt,E.SCORES_UPDATE,t,{onExec:()=>{Xn(u,E.SCORES_UPDATE,t)}});let e=t?t[0]:null;if(e){let o={score:parseInt(e.score,10),comparison_group:e.comparison_group,threshold_group_count:e.threshold_group_count};at(yt,"score_update",I({},o),{onExec:()=>{Xn(u,"score_update",o)}})}}function Dd(t){let e=mt(`${yt}.integrations`),o=[];return w(e,r=>{let n=r.platform;t[n]&&o.push(t[n].then(()=>{Rd(n,r.scores)}))}),Ld(),Promise.all(o)}var Uc={appName:yt,platforms:Yn,sendAppScores:Dd};var zn={[Mt.name]:Mt};function Fd(t,e,o="score_push"){Ht(oe,t,o),Y(`${oe} ${o}: ${t}`,e)}function Bd(t,e){zn[t]!==void 0&&e&&e.length>0?(V(qe,"scored",30),w(e,o=>{o.name&&zn[t].send(o,oe,Fd)})):V(qe,"enabled",30)}function Md(t){let e=G("blackcrow_promising_user")||"";return t==="enabled"||t===void 0&&e.toLowerCase()==="active"||t===void 0&&x().toLowerCase().indexOf("blackcrow_promising_user%3dactive")>0}function $d(t){let e=mt(`${oe}.integrations`),o=A(qe),r=[];return o==="scored"?V(qe,"scored",30):Md(o)&&w(e,n=>{let s=n.platform;t[s]&&r.push(t[s].then(()=>{Bd(s,n.scores)}))}),Promise.all(r)}var qc={appName:oe,platforms:zn,sendAppScores:$d};var wt="pwo",nr={DELAY:"delay",SESSION_VIEW_COUNT:"page_view",EXIT_INTENT:"exit_intent"};var ne=class{constructor(e){this.name=e}set(e,o){V(this.name,e,o)}get(){return A(this.name)}reset(){V(this.name,"",-1)}};var Gc=new ne(js),ir=new ne(Ys),Zn=new ne(Xs),Qn=class{SEPARATOR="|";overlayHistoryCookie=new ne(Js);get(){let e=this.overlayHistoryCookie.get();return e?e.split(this.SEPARATOR):[]}push(e){let o=this.get();o.push(e),this.overlayHistoryCookie.set(o.join(this.SEPARATOR),30)}count(e){return this.get().filter(o=>o===e).length}totalCount(){return this.get().length}},dt=class{overlayClosedCookieDuration=30;constructor(){this.history=new Qn}static overlayWasClosed(){return!!Gc.get()}static piiWasSubmitted(){return!!ir.get()}static submitPII(){ir.set("true",1051200)}closeOverlay(){delete this._openOverlay}setOverlayClosedCookie(){this.isOverlayOpenedByATC()||Gc.set("true",this.overlayClosedCookieDuration)}closeOverlayAndSetCookie(){this.closeOverlay(),this.setOverlayClosedCookie()}isOverlayOpen(){return!!this._openOverlay}piiWasSubmitted(){return dt.piiWasSubmitted()}setOverlayClosedDuration(e=30){this.overlayClosedCookieDuration=e}totalOverlaysOpenedCount(){return this.history.totalCount()}openStandardOverlay(){this._openOverlay=dt.STANDARD,this.history.push(dt.STANDARD)}standardOverlaysOpenedCount(){return this.history.count(dt.STANDARD)}openAtcOverlay(){this._openOverlay=dt.ATC,this.history.push(dt.ATC)}atcOverlaysOpenedCount(){return this.history.count(dt.ATC)}isOverlayOpenedByATC(){return this._openOverlay===dt.ATC}openExitOverlay(){this._openOverlay=dt.EXIT,this.history.push(dt.EXIT)}exitOverlaysOpenedCount(){return this.history.count(dt.EXIT)}isOverlayOpenedByExitTrigger(){return this._openOverlay===dt.EXIT}},lt=dt;xo(lt,"STANDARD","s"),xo(lt,"ATC","a"),xo(lt,"EXIT","e");var sr=class{maxTotalOverlays=1/0;maxStandardOverlays=1;maxATCOverlays=1;maxExitOverlays=1;constructor(e){this.interactionTracker=e}setMaxTotalOverlays(e=1/0){this.maxTotalOverlays=e}totalOverlayLimitReached(){return this.interactionTracker.totalOverlaysOpenedCount()>=this.maxTotalOverlays}standardOverlayLimitReached(){return this.interactionTracker.standardOverlaysOpenedCount()>=this.maxStandardOverlays}canOpenStandardOverlay(){return!this.interactionTracker.isOverlayOpen()&&!this.interactionTracker.piiWasSubmitted()&&!this.standardOverlayLimitReached()&&!this.totalOverlayLimitReached()}atcOverlayLimitReached(){return this.interactionTracker.atcOverlaysOpenedCount()>=this.maxATCOverlays}canOpenAtcOverlay(){return!this.interactionTracker.isOverlayOpen()&&!this.atcOverlayLimitReached()&&!this.totalOverlayLimitReached()}exitOverlayLimitReached(){return this.interactionTracker.exitOverlaysOpenedCount()>=this.maxExitOverlays}canOpenExitOverlay(){return!this.interactionTracker.isOverlayOpen()&&!this.exitOverlayLimitReached()&&!this.totalOverlayLimitReached()}};function he(t,e){i.push({trigger:t,data:e})}var Vd=["OPEN","EMAIL_LEAD","LEAD","CLOSE"],ti="attentive",ar={},Hc,Wc=!0;var Ud={OPEN:E.PWO_IMPR,CLOSE:E.PWO_CLOSE,EMAIL_LEAD:E.PWO_EMAIL_LEAD,LEAD:E.PWO_SMS_LEAD};function qd(t,e){Hc=t?.toUpperCase(),ar={},Wc&&(Wc=!1,h.addListener(window,"message",o=>{if(o.origin&&o.origin.indexOf(".attn.tv")!==-1){let r=o.data.__attentive||{};if(r&&Vd.includes(r.action)){let{action:n,creativeId:s}=r,p=ar[s];if(p?.includes(n))return;ar[s]=p?[...p,n]:[n];let f=Ud[n];f&&he(f,{rendered_form_id:s})}}})),D(()=>{if(typeof window.__attentive?.trigger=="function")e();else throw new Error(`${ti} globals not found`)},()=>i.error(new R(`[${Hc}] ${ti} globals not found.`)),100)}function Gd(){return Promise.resolve(G("utm_source")==="attentive")}function Hd(){}function Wd(t){delete ar[t],window?.__attentive?.trigger(null,null,null,t)}var ei={name:ti,setup:qd,isIdentified:Gd,triggerOverlay:Wd,addAttributesToUserProfile:Hd};var Kc=["open","embedOpen","close","redirectedToUrl","submit","stepSubmit"];function Re(){if(!window.klaviyo){window._klOnsite=window._klOnsite||[];try{window.klaviyo=new Proxy({},{get(t,e){return e==="push"?function(){let o;(o=window._klOnsite).push.apply(o,arguments)}:function(){for(var o=arguments.length,r=new Array(o),n=0;n<o;n++)r[n]=arguments[n];let s=typeof r[r.length-1]=="function"?r.pop():void 0;return new Promise(f=>{window._klOnsite.push([e].concat(r,[function(a){s&&s(a),f(a)}]))})}}})}catch{window.klaviyo=window.klaviyo||[],window.klaviyo.push=function(){let e;(e=window._klOnsite).push.apply(e,arguments)}}}}function jc(t,e,o=()=>!1,r=500){let n=A(t),s=h.setInterval(()=>{let p=A(t);if(p!==n)try{e(p),o()&&clearInterval(s)}catch(f){clearInterval(s),i.error(new Error(`Error occurred in one of the callbacks: ${f}`))}finally{n=p}},r);return s}var cr="klaviyo",oi="PWO",no={};function Kd(t){let e=t.type,o=t?.metaData,r=null;switch(e){case"open":r=E.PWO_IMPR;break;case"submit":o?.$email&&(r=E.PWO_EMAIL_LEAD);break;case"stepSubmit":o?.$phone_number&&(r=E.PWO_SMS_LEAD);break;case"close":r=E.PWO_CLOSE;break;default:break}return r}function jd(t){return t.overrideSampling=!0,t.message=`klaviyo_renderer: ${t.message}`,t}function Jd(t,e){return o=>{o.message===`klaviyo_renderer: ${T}`?i.error(new R(t)):i.error(o),e()}}function Jc(){return new Promise((t,e)=>D(()=>{if(G("_kx"))return t(!0);let o=window._learnq?._loaded&&window?._learnq?.isIdentified||window._klOnsite?._loaded&&window._klOnsite.isIdentified||window?.klaviyo?.isIdentified;if(typeof o=="function"){let r=o();return t(r!==void 0&&r)}throw jd(new Error(T))},Jd(`[${oi}] ${cr} could not determine whether user is identified`,e)))}function Yd(t){let e=window._learnq?._loaded&&window?._learnq?.push||window._klOnsite?._loaded&&window?._klOnsite?.push||window?.klaviyo?.push;typeof e=="function"&&e(["identify",t])}function ri(t){(window?._learnq?.push||window?._klOnsite?.push||window?.klaviyo?.push)(["identify",{$email:t}])}function Xd(){C(()=>{Vo(t=>{let e=hn(t);e&&ri(e)})})}function zd(){Jc().then(t=>{if(t===!1){let e=ft();e?ri(e):Xd()}})}function Qd(){function t(){let e=ge();e&&O("kl_purchase",{kl_cid:e})}if(kt()==="confirmation"){jc(Ro,t,ge);let e=ft()||$o();e&&ri(e)}else zd()}function Zd(t){delete no[t],window.klaviyo.openForm(t)}function tl(t,e){oi=t?.toUpperCase(),no={};function o(r){let n=r?.formId,s=Kd(r);function p(){return s&&no[n]?.includes(s)}function f(){let g=no[n];no[n]=g?[...g,s]:[s]}function a(){(window?._learnq?.push||window?._klOnsite?.push||window?.klaviyo?.push)(["track","Welcome Form Submit"])}p(n,s)||(f(n,s),he(s,{rendered_form_id:n}),s===E.PWO_EMAIL_LEAD&&a())}h.addListener(window,"klaviyoForms",r=>{r.detail&&Kc.includes(r.detail.type)&&o(r.detail)}),(typeof window.klaviyo?.identify!="function"||!window._klOnsite?._loaded)&&Re(),D(()=>{if(typeof window.klaviyo?.identify=="function"&&window._klOnsite?._loaded)Qd(),e();else throw new Error(`${cr} globals not found`)},()=>i.error(new R(`[${oi}] ${cr} globals not found.`)),100)}var Le={name:cr,setup:tl,isIdentified:Jc,triggerOverlay:Zd,addAttributesToUserProfile:Yd};function io(t,e){if(typeof e!="function")return;let o=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(...r){try{r[1]?.match(t)&&e&&h.addListener(this,"load",()=>{this.responseType===""||this.responseType==="text"?e(this.responseText):this.responseType==="json"&&e(JSON.stringify(this.response))})}catch{i.error(new Et(`XHR Sniffer Error For URL: ${t}`))}return o.apply(this,r)}}function fr(t,e){let o=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(...r){try{r[1]?.match(t)&&e(r)}catch{i.error(new Et(`XHR Intercept Error For URL: ${t}`))}return o.apply(this,r)}}var ii="justuno",so={},ni;function si(t){return t.overrideSampling=!0,t.message=`justuno_renderer: ${t.message}`,t}function Yc(t,e){return o=>{o.message===`justuno_renderer: ${T}`?i.error(si(new R(t))):i.error(o),e(t)}}function el(){return window._klOnsite?._loaded||Re(),new Promise((t,e)=>D(()=>{if(typeof window.klaviyo?.isIdentified=="function"&&window._klOnsite?._loaded)return t(Le.isIdentified());throw si(new Error(T))},Yc(`[${ni}] ${ii} could not determine whether user is identified (using klaviyo).`,e)))}function ol(t){typeof window?.klaviyo?.push!="function"&&!window._klOnsite?._loaded&&Re(),Le.addAttributesToUserProfile(t)}function rl(t){delete so[t],window.ju_loadiframe({campaign_id:t??""})}function nl(t,e){so={},ni=t?.toUpperCase();function o(s,p){return so[s]?.includes(p)}function r(s,p){if(s){let f=so[s];so[s]=f?[...f,p]:[p]}}function n(s,p){o(s,p)||(r(s,p),he(p,{rendered_form_id:s}))}S()?e():(window.juapp=window.juapp||function(){(window.juapp.q=window.juapp.q||[]).push(arguments)},fr("(justuno.com|jst.ai)/api/analytics/impression",()=>{n(void 0,E.PWO_IMPR)}),window.juapp("trackFunc","engagement",(s,p,f,a,g,_)=>{_.find(y=>y.name==="phone_number"&&y.value.length>0)?n(a,E.PWO_SMS_LEAD):s&&n(a,E.PWO_EMAIL_LEAD)}),window.ju_windowevent=(s,p)=>{s==="unload"&&n(p,E.PWO_CLOSE)},D(()=>{if(window.ju_loadiframe&&typeof window.ju_loadiframe=="function"&&window.ju_initialized)e();else throw si(new Error(T))},Yc(`[${ni}] ${ii} globals not found.`,e),100))}var ai={name:ii,setup:nl,isIdentified:el,triggerOverlay:rl,addAttributesToUserProfile:ol};var Xc={[ei.name]:ei,[ai.name]:ai,[Le.name]:Le},ur=class{constructor(e){if(!e)throw new Error("[PWO] No configured overlay renderer");if(this.overlayRenderer=Xc[e.toLowerCase()],!this.overlayRenderer)throw new Error(`[PWO] Unrecognized overlay renderer: ${e}`)}setup(){return new Promise(e=>this.overlayRenderer.setup(wt,e))}triggerOverlay(e){this.overlayRenderer.triggerOverlay(e)}get name(){return this.overlayRenderer?.name}},pr=class{constructor(e){if(!Array.isArray(e)||!e.length)throw new Error("[PWO] No configured identity platforms");if(this.identityPlatforms=e.map(o=>{let r=Xc[o?.toLowerCase()];return r||i.error(new Error(`[PWO] Unrecognized identity platform: ${o}`)),r}).filter(o=>!!o),!this.identityPlatforms.length)throw new Error("[PWO] No configured identity platforms")}isUserIdentified(){let e=this.identityPlatforms.map(async o=>{try{return o.isIdentified()}catch{return!0}});return Promise.all(e)}addAttributesToUserProfile(e){this.identityPlatforms.forEach(o=>{o.addAttributesToUserProfile(e)})}};function il(){return Number(A(Gr))||0}function ao(){return Number(A(Hr))||0}function zc(){let t=il();V(Gr,t+1,1051200);let e=ao();e<1&&at("platform",E.SESSION),V(Hr,e+1,30)}function sl(){let e=Ne(wt).excludedQueryParams;return e&&e.some(o=>G(o.name)===o.value)}function al(t){let e=t?.overlayBuckets?.triggerBuckets?.scoreName,o=mt(`${yt}.scores`)??[];return e?o.find(({name:r})=>r===e)?.score:void 0}function ci(){return Zn.get()?!0:sl()?(Zn.set(!0),!0):!1}function Qc(){let t=Ne(wt),e=t?.overlayBuckets,o=vc(t),r=al(t);return e===void 0?void 0:{resolved_trigger_config:{...e},resolved_form_id:o.formId,resolved_form_profile:o.profile,resolved_score:r,version:t?.version}}function Zc(t){return{closed_overlay:!!lt.overlayWasClosed(),identified:t.some(e=>e===!0),pii_submitted:!!lt.piiWasSubmitted(),channel_excluded:ci()}}function tf(t){if(de(Z()).deviceType!=="mobile")C(()=>{h.addListener(document?.documentElement,"mouseleave",t)});else{let e=le(),o=la();if(o>0){let r=h.setInterval(()=>{let n=e-le();n<0&&(n=0,e=le()),n/o>.3&&(clearInterval(r),t())},150)}}}function ef(){let t=!!ir.get(),e=ci();return!(t||e)}function cl(){let t=Nt(),e=`${wt}_overlayBuckets`;return{custom_dimensions:{pwo_overlay_bucket_ratio:He(`${t}${e}`)}}}function fi(t){let e={};function o(){return I({},Qc(),Zc(t),{session_page_views:ao()},cl(),e)}function r(n){I(e,n)}return{getEventData:o,extendEventData:r}}var De,mr,co,K=new lt,fo=new sr(K);function fl(t){De&&De.extendEventData(t)}function Wt(){return De?.getEventData()||{}}function rf(){return Wt()?.resolved_trigger_config?.name}function ul(){De=void 0}function pl(t){return{resolved_form_id:t.form_id,resolved_form_profile:t.form_profile,trigger_type:t.trigger_type,trigger_count:t.trigger_count}}function ml(){K.closeOverlay(),ul()}function dl(t){return!K.isOverlayOpen()&&t.overlay_eligible&&t.trigger_type&&t.trigger_count>-1&&t.trigger_count!==null}function ui(t){i.push({trigger:E.PWO_OPEN_ATTEMPT}),mr.triggerOverlay(t.form_id),co.addAttributesToUserProfile({blackcrow_exposed_population_bucket:rf(),bcai_trigger:t.trigger_type,profile:t.form_profile})}function nf(t){return co.isUserIdentified().then(o=>{!o.some(n=>n===!0)&&fo.canOpenStandardOverlay()&&(K.openStandardOverlay(),ui(t))})}function sf(t,e){let o=mr.name??"unknown";i.error(new Error(`[${wt.toUpperCase()}] error when triggering overlay for creative "${t?.form_id}" on ${o} due to error "${e.message}".`))}function of(t){let e=()=>nf(t).catch(o=>sf(t,o));h.setTimeout(e,t.trigger_count*1e3)}function ll(t){ao()>=t.trigger_count&&nf(t).catch(o=>sf(t,o))}function gl(t){function e(){if(!t.overlay_eligible){let o=Wt();return!o.channel_excluded&&!o.identified&&!o.pii_submitted}return!0}return e()&&fo.canOpenAtcOverlay()}function _l(t){Wt()?.resolved_trigger_config?.triggerBuckets?.showOverlayOnATC&&k("platform",E.ADD_TO_CART,()=>{gl(t)&&(K.openAtcOverlay(),ui(t))})}function hl(t){let e=t?.apps?.pwo;if(e){fl({...pl(e)});let o=rf();if(co.addAttributesToUserProfile(I({},{blackcrow_all_population_bucket:o,blackcrow_eligible_population_bucket:e?.overlay_eligible?o:void 0})),_l(e),dl(e))switch(e.trigger_type){case nr.DELAY:of(e);break;case nr.SESSION_VIEW_COUNT:ll(e);break;case nr.EXIT_INTENT:k("platform",E.EXIT_INTENT,()=>{fo.canOpenExitOverlay()&&of(e)});break;default:}}else i.error(new Error(`[${wt.toUpperCase()}] missing "pwo" in response: ${JSON.stringify(t)}`))}function El(t,e){return O(t,e,o=>{hl(o)}),{eventName:t,eventData:e}}async function yl(t){try{if(t.renderer&&t.isIdentified&&on()){await t.renderer;let e=await t.isIdentified;De=fi(e),await El(b.PWO_DECISION,De.getEventData())}}catch(e){i.error(e)}}function wl(){at("platform",E.EXIT_INTENT)}function vl(){k("platform",E.VIEW_RESPONSE,()=>{on()&&(k("platform",E.PWO_CLOSE,e=>{let o=Wt(),r=o?.resolved_form_id,n=K.isOverlayOpen(),s=e?.rendered_form_id;O(b.PWO_CLOSE,I(e,o,{bcai_triggered:n,overlay_triggered_by_atc:K.isOverlayOpenedByATC(),overlay_triggered_by_seu:K.isOverlayOpenedByExitTrigger()})),K.closeOverlay(),n&&(r===s||!s)&&K.setOverlayClosedCookie()}),k("platform",E.PWO_EMAIL_LEAD,e=>{lt.submitPII(),O(b.PWO_EMAIL_LEAD,I(e,Wt(),{bcai_triggered:K.isOverlayOpen(),overlay_triggered_by_atc:K.isOverlayOpenedByATC(),overlay_triggered_by_seu:K.isOverlayOpenedByExitTrigger()}))}),k("platform",E.PWO_SMS_LEAD,e=>{lt.submitPII(),O(b.PWO_SMS_LEAD,I(e,Wt(),{bcai_triggered:K.isOverlayOpen(),overlay_triggered_by_atc:K.isOverlayOpenedByATC(),overlay_triggered_by_seu:K.isOverlayOpenedByExitTrigger()}))}),k("platform",E.PWO_IMPR,e=>{O(b.PWO_IMPR,I(e,Wt(),{bcai_triggered:K.isOverlayOpen(),overlay_triggered_by_atc:K.isOverlayOpenedByATC(),overlay_triggered_by_seu:K.isOverlayOpenedByExitTrigger()}))}),k("platform",E.PWO_OPEN_ATTEMPT,e=>{O(b.PWO_OPEN_ATTEMPT,I(e,Wt()))}),Ne(wt)?.overlayBuckets?.triggerBuckets?.showSecondOverlayOnExitIntent&&k("platform",E.EXIT_INTENT,()=>{let e=Wt();fo.canOpenExitOverlay()&&ef()&&!e.identified&&(K.openExitOverlay(),ui({trigger_type:E.EXIT_INTENT,form_id:e.resolved_form_id,form_profile:e.resolved_form_profile}))}))})}function Sl(){let t={},e=Ne(wt),o=e.renderer?.toLowerCase();if(S())i.error(new R("[PWO] Disabled while running in WebPixelManager."));else if(o===void 0)i.error(new Error("[PWO] No configured overlay renderer"));else{let r=e.identifyPlatforms;try{mr=new ur(o),co=new pr(r||[o]),K.setOverlayClosedDuration(e?.overlayClosedCookieDuration),fo.setMaxTotalOverlays(e?.overlayBuckets?.triggerBuckets?.maxTotalOverlays),t.isIdentified=co.isUserIdentified(),t.renderer=mr.setup(),vl(),tf(wl)}catch(n){i.error(n)}}return t}var af={appName:wt,init:Sl,sendAppScores:yl,cleanup:ml};var pi="cordial";function Il(t,e,o){let r=`${c}`,n=F([r,t.integration_product]),s=v(window,"crdl");if(typeof s=="function"){let p={app_name:e,integration_product:t.integration_product,conversion_product:t.conversion_product,conversion_type:t.conversion_type,comparison_population:t.comparison_population,comparison_group:t.comparison_group,comparison_type:t.comparison_type,threshold_setter:t.threshold_setter,threshold_group_count:t.threshold_group_count,score:B(t.score)};s("event",n,p),typeof o=="function"&&o(pi,n)}else throw new Error(T)}var mi={name:pi,send:H(pi,Il)};var uo=window.GoogleAnalyticsObject||"ga";window[uo]=window[uo]||function(){(window[uo].q=window[uo].q||[]).push(arguments)};var sL=window[uo];window.dataLayer=window.dataLayer||[];var Kt=typeof window.gtag=="function"?window.gtag:function(){window.dataLayer.push(arguments)};function po(){return A("_ga")?.split(".")?.slice(-2).join(".")}function di(t,e){if(S()){let r=$(t,e).tracking_id;return r!=null&&r.startsWith("UA-")&&po()!==void 0}if(Array.isArray(window.dataLayer)){let o=!1;return w(window.dataLayer,r=>{r[0]==="config"&&r[1]&&r[1].indexOf("UA-")===0&&(o=!0)}),o}return!1}function li(t,e){if(S()){let r=$(t,e).tracking_id;return r!=null&&r.startsWith("G-")&&po()!==void 0}if(Array.isArray(window.dataLayer)){let o=!1;return w(window.dataLayer,r=>{r[0]==="config"&&r[1]&&r[1].indexOf("G-")===0&&(o=!0)}),o}return!1}var dr="event",vt="google_analytics",Al="https://www.google-analytics.com/collect",xl="https://www.google-analytics.com/g/collect";function Tl(t,e){if(!S()){let r=$(t,vt).tracking_id;if(r){let n=document.createElement("script");n.src=`https://www.googletagmanager.com/gtag/js?id=${r}`,n.async=!0,document.getElementsByTagName("head")[0].appendChild(n),Kt("js",new Date),Kt("config",r,{send_page_view:!1})}}e()}function bl(t,e,o,r,n){let s=new URL(Al);s.search=ut({v:1,t:dr,tid:t,cid:po(),ec:e,ea:o,el:r,ua:Z(),dl:x(),dt:document.title,ni:1}),W(s.toString(),{method:"GET",mode:"cors"},n)}function Pl(t,{onSuccess:e,eventPrefix:o,integrationProduct:r,conversionProduct:n,conversionType:s,comparisonType:p,thresholdSetter:f,thresholdGroupCount:a,comparisonPopulation:g,score:_}){let y=new URL(xl);y.search=ut({v:2,tid:t,en:dr,cid:po(),dl:x(),dt:document.title,ep:{app_name:o,integration_product:r,conversion_product:n,comparison_population:g,comparison_type:p,conversion_type:s,threshold_setter:f,threshold_group_count:a,non_interaction:!0},epn:{score:_}}),W(y.toString(),{method:"POST",mode:"cors"},e)}function cf(t,e,o,r,n,s,p,f,a){let g={};return g.category=F([t,e,o,r]),g.action=F([n,s,p,f]),g.label=a,g}function kl(t,{onSuccess:e,eventPrefix:o,integrationProduct:r,conversionProduct:n,conversionType:s,comparisonType:p,thresholdSetter:f,thresholdGroupCount:a,comparisonPopulation:g,score:_}){let y=$(t,vt);if(y.pageBlocked)return;let N=window.GoogleAnalyticsObject?window[window.GoogleAnalyticsObject]:window.ga,M=cf(o,r,n,s,p,f,a,g,_),_t=M.category,Rt=M.action,jt=M.label;function Vt(){typeof e=="function"&&e(vt,{eventCategory:_t,eventAction:Rt,eventLabel:jt})}if(di(t,vt))Kt("event",Rt,{event_category:_t,event_label:jt,non_interaction:!0}),Vt();else if(li()){let Ie=F([o,r],"_");Kt("event",Ie,{non_interaction:!0,app_name:o,integration_product:r,conversion_product:n,conversion_type:s,comparison_population:g,comparison_type:p,threshold_setter:f,threshold_group_count:a,score:_}),Vt()}else if(typeof N=="function"){let Ie=h.setTimeout(()=>{i.error(new R(`${vt} ready hook not fired`))},5e3);N(Ms=>{if(clearTimeout(Ie),!(Ms&&Ms.get("trackingId"))){let Ao=y.tracking_id;Ao||w(N.getAll(),ap=>{let $s=ap.get("trackingId");if($s)return Ao=$s,!1}),Ao?N("create",Ao,"auto"):i.error(new oo(`${vt} tracking id not found`))}N("send",{hitType:dr,eventCategory:_t,eventAction:Rt,eventLabel:jt,nonInteraction:!0}),Vt()})}else throw new Error(T)}function Cl(t,{onSuccess:e,eventPrefix:o,integrationProduct:r,conversionProduct:n,conversionType:s,comparisonType:p,thresholdSetter:f,thresholdGroupCount:a,comparisonPopulation:g,score:_}){let y=cf(o,r,n,s,p,f,a,g,_),N=y.category,M=y.action,_t=y.label;function Rt(){typeof e=="function"&&e(vt,{eventCategory:N,eventAction:M,eventLabel:_t})}if(di(t,vt)){let Vt=$(t,vt).tracking_id;bl(Vt,N,M,_t,Rt)}else if(li(t,vt)){let Vt=$(t,vt).tracking_id;Pl(Vt,{onSuccess:Rt,eventPrefix:o,integrationProduct:r,conversionProduct:n,conversionType:s,comparisonType:p,thresholdSetter:f,thresholdGroupCount:a,comparisonPopulation:g,score:_})}else throw new Error(T)}function Nl(t,e,o){let r=`${c}_${e}`;function n(p){p.message===T?i.error(new R(`${vt} globals not found`),{appName:e}):i.error(p)}if(!t)return;let s=S()?Cl:kl;D(()=>s(e,{onSuccess:o,eventPrefix:r,integrationProduct:t.integration_product,conversionProduct:t.conversion_product,conversionType:t.conversion_type,comparisonType:t.comparison_type,thresholdSetter:t.threshold_setter,thresholdGroupCount:t.threshold_group_count,comparisonPopulation:t.comparison_population,score:B(t.score)}),n)}var gi={eventHitType:dr,name:vt,setup:Tl,send:Nl};var Fe="google_ads",Ol="www.googleadservices.com",Rl="_gcl_au";function lr(t){return $(t,Fe)?.conversion_id}function ff(t){return lr(t)?.split("-").splice(-1).join()}function Ll(){return A(Rl)?.split(".").splice(-2).join(".")}function uf(t){let e=x(),o=ct(),r=Ae(),n=Date.now(),s=Ll(),p={data:`event=${t};non_interaction=true`,fst:n,random:n,auid:s,url:e,ref:o,tiba:r,hn:Ol,rfmt:3,fmt:4,async:1,cv:11,guid:"ON"};return ut(p)}var Dl="event",Fl="https://googleads.g.doubleclick.net/pagead/viewthroughconversion";function Bl(t,e){if(!S()){let o=lr(t);if(o){let r=document.createElement("script");r.src=`https://www.googletagmanager.com/gtag/js?id=${o}`,r.async=!0,document.getElementsByTagName("head")[0].appendChild(r),Kt("js",new Date),Kt("config",o)}}e()}function Ml(){if(Array.isArray(window.dataLayer)){let t=!1;return w(window.dataLayer,e=>{e[0]==="config"&&e[1]&&e[1].indexOf("AW-")===0&&(t=!0)}),t}return!1}function $l(t,e,o){let r=ff(e),n=uf(t);try{Yt(`${Fl}/${r}/?${n}`),o()}catch(s){i.error(new Error(`${Fe} api call failed with ${s}`))}}function Vl(t,e,o){if(Ml())Kt("event",t,{send_to:lr(e),non_interaction:!0}),o();else throw new Error(T)}function Ul(t,e,o){let r=`${c}_${e}`,n=F([r,t.integration_product,t.conversion_product,t.conversion_type,t.comparison_type,t.threshold_setter,t.threshold_group_count,t.comparison_population,`score_${B(t.score)}`]);function s(){typeof o=="function"&&o(Fe,{event:n})}S()?$l(n,e,s):Vl(n,e,s)}var _i={eventHitType:Dl,name:Fe,setup:Bl,send:H(Fe,Ul)};var hi="heap";function ql(t,e,o){let r=v(window,"heap");if(r&&typeof r.addUserProperties=="function"){let s={[F([c,t.comparison_group,t.threshold_group_count])]:t.score};r.addUserProperties(s),typeof o=="function"&&o(hi,s)}else throw new Error(T)}var Ei={name:hi,send:H(hi,ql)};var mo="klaviyo";function Gl(t,e){if(!S()){let o=$(t,mo).api_key,r=window._learnq?window._learnq.identify:null;if(o&&typeof r!="function"){let n=document.createElement("script");n.src=`https://static.klaviyo.com/onsite/js/klaviyo.js?company_id=${o}`,n.async=!0,document.getElementsByTagName("head")[0].appendChild(n)}}e()}function pf(t,e,o,r){function n(){typeof r=="function"&&r(mo,e)}function s(){let p=ft(),f=B(o.score),a={[e]:f};return p&&I(a,{$email:p}),a}if(S()){let p=$(t,mo).api_key;p&&W(`https://a.klaviyo.com/api/onsite/identify?c=${p}`,{body:JSON.stringify({token:p,properties:s()}),method:"POST",mode:"cors",credentials:"omit"},n())}else window._learnq||(window._learnq=[],i.error(new R(`${mo} globals not found`))),window._learnq.push(["identify",s()]),n()}var mf={},yi={};function Hl(t){let e=mf[t];return()=>{pf(e.appName,e.eventName,e.scoreObj,e.onSuccess)}}function Wl(t,e,o){if(!t)return;let r=F([`${c}`,"score",t.threshold_group_count,t.comparison_group]);t.name!==void 0&&(mf[t.name]={appName:e,eventName:r,scoreObj:t,onSuccess:o},yi[t.name]===void 0&&(yi[t.name]=Hl(t.name)),h.addListener(window,"beforeunload",yi[t.name])),h.setTimeout(()=>pf(e,r,t,o),5e3)}var wi={name:mo,setup:Gl,send:Wl};var Kl="event",gr="microsoft_ads";function jl(t,{onSuccess:e,eventCategory:o,eventAction:r,eventLabel:n,eventValue:s}){function p(){typeof e=="function"&&e(gr,{event_category:o,event_action:r,event_label:n,event_value:s})}try{window.uetq=window.uetq||[],window.uetq.push("event",r,{event_category:o,event_label:n,event_value:s}),p()}catch{i.error(new R(`${gr} globals not found`),{appName:t})}}function Jl(t,e){let r=$(t,gr).tracking_id;r?function(n,s,p,f,a){var g,_,y;n[a]=n[a]||[],g=function(){var N={ti:r};N.q=n[a],n[a]=new UET(N),n[a].push("pageLoad"),e()},_=s.createElement(p),_.src=f,_.async=1,_.onload=_.onreadystatechange=function(){var N=this.readyState;N&&N!=="loaded"&&N!=="complete"||(g(),_.onload=_.onreadystatechange=null)},y=s.getElementsByTagName(p)[0],y.parentNode.insertBefore(_,y)}(window,document,"script","//bat.bing.com/bat.js","uetq"):e()}function Yl(t,e,o){let r=`${c}_${e}`;if(!t)return;let n=t.integration_product,s=F([r,n,t.conversion_product,t.conversion_type]),p=F([t.comparison_type,t.threshold_setter,t.threshold_group_count,t.comparison_population,t.comparison_group]),f,a;if(n==="prospecting")a=t.raw_probability;else{f=B(t.score);let g=Number(t.score);g>=0&&(a=g)}jl(e,{onSuccess:o,eventCategory:s,eventAction:p,eventLabel:f,eventValue:a})}var vi={eventHitType:Kl,name:gr,setup:Jl,send:Yl};var Si="oracle_responsys";function Xl(t,e,o){let r=v(window,"ORA.click");if(typeof r=="function"){let n=B(t.score);r({data:{bc_score:n,"wt.dl":99}}),typeof o=="function"&&o(Si,n)}else throw new Error(T)}var Ii={name:Si,send:H(Si,Xl)};var df="track";var Ai="outbrain";function zl(t,e,o){let r=v(window,"obApi");if(typeof r=="function"){let n=`${c}`,s=t.integration_product,p=F([n,s,t.threshold_group_count,B(t.score)]," ").replace(/[^0-9a-z\s]/gi,"");r(df,p),typeof o=="function"&&o(Ai,p)}else throw new Error(T)}var xi={name:Ai,send:H(Ai,zl)};var Ee="pinterest",Ti=`${c}`;function gf(t){return{lead_type:t.integration_product,video_title:t.conversion_product,order_id:t.conversion_type,property:t.comparison_group,promo_code:t.comparison_type,search_query:t.threshold_setter,order_quantity:B(t.threshold_group_count),value:B(t.score)}}function lf(t,e,o){let r=A("_pin_unauth"),n=A("_derived_epik"),s={event:Ti,ed:e,tid:t,pd:{...r&&{pin_unauth:r},...n&&{derived_epik:n}}};return o&&(s.ad={loc:x(),ref:document.referrer}),s}function Ql(t,e,o){let r=$(e,Ee).tracking_id;if(r){let n="https://ct.pinterest.com",s=gf(t),p=lf(r,s,!1),f=ut(p,!1);W(`${n}/user/?${f}`,{method:"GET"},o,()=>i.error(new Error(`${Ee} api call failed`)));let a=lf(r,s,!0),g=ut(a,!1);W(`${n}/v3/?${g}`,{method:"GET"},o,()=>i.error(new Error(`${Ee} api call failed`)))}}function Zl(t,e,o){if(S())Ql(t,e,o);else{let r=v(window,"pintrk");if(typeof r=="function"){let n=gf(t);$(e,Ee).advancedMatching&&I(n,{em:ft()}),r("track",Ti,n),typeof o=="function"&&o(Ee,Ti)}else throw new Error(T)}}var bi={name:Ee,send:H(Ee,Zl)};var ye="snapchat",_r="_scid",hr="u_sclid",Er="u_scsid",Ci="snaptr",ki={};function yr(t,{getItem:e,setItem:o},r,n=Xe){return e(t).then(s=>{let p=s;p||(p=n(),o(t,p)),r(p)})}function Pi(t){return ki[t]}function wr(t,e){return ki[t]=e,ki[t]}function tg(t){return $(t,ye)?.pixel_id}function _f(t,e){let o=tg(e),r=Jt("navigation")[0],n=Jt(Ci)[0];return{pid:o,ev:t.score,pl:x(),rf:ct(),ts:Date.now(),trackId:Xe(),u_c1:Pi(_r),u_sclid:Pi(hr),u_scsid:Pi(Er),m_dcl:r?.domContentLoadedEventEnd,m_pi:r?.domInteractive,m_pl:r?.loadEventEnd,m_pv:r?"v2":"v1",m_rd:Math.floor(To()),m_sl:n?.startTime,v:"2.0.0",bt:"1d53c387",if:!1}}function lo(t){if(typeof Promise.allSettled=="function")return Promise.allSettled(t);let e=t.map(o=>Promise.resolve(o).then(r=>({status:"fulfilled",value:r}),r=>({status:"rejected",reason:r})));return Promise.all(e)}function ie(t,e){try{window.sessionStorage.setItem(t,JSON.stringify(e))}catch{}}var eg="https://tr.snapchat.com/p";function hf(t,e){return S()?lo([yr(_r,{getItem:window.browser.cookie.get,setItem:window.browser.cookie.set},o=>{wr(_r,o)}),yr(hr,{getItem:et,setItem:pt},o=>{wr(hr,o)}),yr(Er,{getItem:Dt,setItem:ie},o=>{wr(Er,o)})]).finally(e):e()}function og(t,e,o){let r=_f(t,e);W(`${eg}`,{method:"POST",mode:"cors",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:ut(r)},()=>{typeof o=="function"&&o(ye,`${c},${t.score}`)},()=>{i.error(`Unable to send scores to ${ye}.`)})}function rg(t,e,o){let r=v(window,Ci);if(typeof r=="function"){if(r("track",t.score),typeof o=="function"){let n=`${c}`,s=F([n,t.score]);o(ye,s)}}else throw new Error(T)}function ng(t,e,o){return S()?og(t,e,o):rg(t,e,o)}var go={name:ye,identify:hf,setup:hf,send:H(ye,ng)};var Ni="taboola";function ig(t,e,o){if(!t)return;window._tfa===void 0&&(window._tfa=[],i.error(new R(`${Ni} globals not found`),{appName:e}));let r=`${c}`,n=t.integration_product,s=F([r,n,t.threshold_group_count,B(t.score)],"_");window._tfa.push({notify:"event",name:s}),typeof o=="function"&&o(Ni,s)}var Oi={name:Ni,send:ig};function sg(){return"product"}function Ri(){let t={},e=ft();return e&&(e=e.toLowerCase()),t.email=e,t}function ag(){let t=Ri();return Yo(t)}function cg(){let t={},e=A("_ttp");return e&&(t.anonymous_id=e),ag().then(o=>({...t,...o}))}function vr(t,e){let o=F([`${c}_${t}`,e]),r=sg();return{content_id:o,content_type:r}}function Ef(t){let e={context:{page:{referrer:document.referrer,url:x()},pixel:{code:t},userAgent:Z()}};return cg().then(o=>(e.context.user=o,e))}function Li(t,e,o,r){return Ef(t).then(n=>(n.event=e,n.properties=vr(r,o),n))}function yf(t){return Ef(t).then(e=>(e.event="EnrichAM",e))}var _o="tiktok",fg="https://analytics.tiktok.com/api/v2/pixel";function ug(t){let e=window.ttq;return e&&e.instances()&&Array.isArray(e.instances())?!!e.instances().find(o=>t===o.pixelCode&&o.loaded):!1}function Di(){return L("tiktokAccounts")||[]}function pg(t,e){S()||Di().forEach(r=>{let n=r.pixelId;n&&!ug(n)&&function(s,p,f){s.TiktokAnalyticsObject=f;var a=s[f]=s[f]||[];a.methods=["page","track","identify","instances","debug","on","off","once","ready","alias","group","enableCookie","disableCookie"],a.setAndDefer=function(_,y){_[y]=function(){_.push([y].concat(Array.prototype.slice.call(arguments,0)))}};for(var g=0;g<a.methods.length;g++)a.setAndDefer(a,a.methods[g]);a.instance=function(_){for(var y=a._i[_]||[],N=0;N<a.methods.length;N++)a.setAndDefer(y,a.methods[N]);return y},a.load=function(_,y){var N="https://analytics.tiktok.com/i18n/pixel/events.js";a._i=a._i||{},a._i[_]=[],a._i[_]._u=N,a._t=a._t||{},a._t[_]=+new Date,a._o=a._o||{},a._o[_]=y||{},y=document.createElement("script"),y.type="text/javascript",y.async=!0,y.src=N+"?sdkid="+_+"&lib="+f,_=document.getElementsByTagName("script")[0],_.parentNode.insertBefore(y,_)},a.load(n),a.page()}(window,document,"ttq")}),e()}function Fi(){i.error(new Error(`${_o} api call failed`))}function wf(t,e){let o=ft(),r=Ko();if(o||r){let n=t.pixelId,s=v(window,"ttq.instance");typeof s=="function"&&typeof s(n).identify=="function"&&(s(n).identify({email:o,phone_number:r}),e&&typeof e=="function"&&e())}}function Bi(t,e,o){W(fg,{body:JSON.stringify(t),method:"POST"},e,o)}function vf(t,e){let o=t.pixelId;o&&Ri().email&&yf(o).then(n=>{Bi(n,e,Fi)})}function mg(t,e){let o=S();function r(s,p){return()=>{let a=(mt(`${t}.integrations`)||[]).find(g=>_o===g.platform);a&&a.scores&&a.scores.forEach(({score:g,integration_product:_})=>{o?Li(p,g,_,t).then(y=>{Bi(y,e,Fi)}):s(p).track(g,vr(t,_))}),o||e&&typeof e=="function"&&e()}}Di().forEach(s=>{let p=s.pixelId,f=v(window,"ttq.instance"),a=r(f,p);o?vf(s,a):wf(s,a)})}function Sf(t,e){return function(){if(typeof t=="function"){let r=`${c}`,n=F([r,e.score]);t(_o,n)}}}function dg(t,e,o,r){let n=t.pixelId,s=v(window,"ttq.instance");if(n&&typeof s=="function")wf(t),e.score&&s(n).track(e.score,vr(o,e.integration_product)),Sf(r,e)();else throw new Error(T)}function lg(t,e,o,r){let n=t.pixelId;if(n){vf(t);let s=e.score,p=e.integration_product;s&&(r=typeof r=="function"?Sf(r,e):void 0,Li(n,s,p,o).then(f=>{Bi(f,r,Fi)}))}else throw new Error(T)}function gg(t,e,o){Di().forEach(n=>{S()?lg(n,t,e,o):dg(n,t,e,o)})}var ho={name:_o,identify:mg,setup:pg,send:H(_o,gg)};function Mi({src:t,alt:e}){let o=document.createElement("img");return o.width=1,o.height=1,o.alt=e||"",o.src=t,o}var Sr="tradedesk";function _g(t,e,o){let n=$(e,Sr).pixel_id,s=B(t.score)-1,p=t.comparison_type,f=t.conversion_product,a=t.threshold_group_count;n&&!S()&&C(()=>{if(Mi({src:`https://insight.adsrvr.org/track/pxl/?${n}&fmt=3&td1=blackcrow&td2=comparison_type|${p}&td3=comparison_product|${f}&td4=threshold_group_count|${a}&td5=score|${s}`}),typeof o=="function"){let g=`${c}`,_=F([g,t.score]);o(Sr,_)}else throw new Error(T)})}var $i={name:Sr,send:H(Sr,_g)};var se="target";var Ir={[mi.name]:mi,[Mt.name]:Mt,[gi.name]:gi,[_i.name]:_i,[Ei.name]:Ei,[wi.name]:wi,[vi.name]:vi,[Ii.name]:Ii,[xi.name]:xi,[bi.name]:bi,[go.name]:go,[Oi.name]:Oi,[ho.name]:ho,[$i.name]:$i};function hg(t,e,o="score_push"){Ht(se,t,o),Y(`${se} ${o}: ${t}`,e)}function Eg(t,e){e&&w(e,o=>{o.name&&Ir[t].send(o,se,hg)})}function yg(){let t=Zo(se),e={};return t.forEach(o=>{let r=Ir[o];r!==void 0&&typeof r.setup=="function"?e[o]=new Promise(n=>r.setup(se,n)):e[o]=Promise.resolve()}),e}function wg(t){let e=mt(`${se}.integrations`),o=[];return w(e,r=>{let n=r.platform,s=r.scores,p=Ir[n];t[n]&&o.push(t[n].then(()=>{p!==void 0&&typeof p.send=="function"&&Eg(n,s)}))}),Promise.all(o)}var If={appName:se,init:yg,platforms:Ir,sendAppScores:wg};var ae="identity";var Af=q({name:"identity_kpi_sampling",allocations:[{percent:.1,value:!0}]});function xf(t,e,o){Af&&tt(`${t} platform request for ${e}`,{"platform.name":e,"event.name":o,appName:t})}function Tf(t,e){Af&&tt(`${t} user request`,e)}function Be(t,e,o,r){let n=st(e);if(n.length){let s={site_name:u,metadata:Ho(),device_info:Z(),page_url:x(),page_referrer_url:ct(),page_title:Ae(),platform_name:t,platform_event_name:o,ids:n,user_data:{fbc:A(Oo),fbp:A(Xt)}},p={fb_test_event_code:A("fb_test_event_code")};za(I(s,r,p)),xf(ae,t,o)}}var bf="klaviyo",Ar;function vg(t){return t==="track"}function Sg(t){return t.overrideSampling=!0,t.message=`identity: ${t.message}`,t}function Ig(t){return e=>{e.message===`identity: ${T}`?i.error(new R(t)):i.error(e)}}function Vi(t,e){vg(e[0])&&Be(bf,t,e[1],{data:e[2]})}function Ag(t){Array.isArray(window._learnq)&&window._learnq.forEach(e=>{Vi(t,e)})}function xg(t){if(typeof window._learnq.push=="function"){let e=window._learnq.push;window._learnq.push=function(...o){e.apply(this,o);let r=o[0];Vi(t,r)}}}function Tg(t){function e(){let o=Array.prototype.slice.call(arguments[0]);Vi(t,o),Ar.apply(this,arguments)}window._learnq.push&&typeof Ar!="function"&&(Ar||(Ar=window._learnq.push),window._learnq.push=e)}function bg(t,e){window._learnq=window._learnq||[],window._learnq?._loaded||(Ag(e),xg(e)),D(()=>{if(window._learnq?._loaded){Tg(e);return}throw Sg(new Error(T))},Ig("Klaviyo platform load not detected."),500,10)}var Ui={name:bf,setup:bg};var yo="facebook_ads";function Pg(t){return t==="track"}function Pf(t,e,o,r,n){Pg(e)&&Be(yo,t,o,{data:r,platform_event_id:n?.eventID})}var Eo=[];function kg(t=[]){Eo=Eo.concat(t.filter(e=>!Eo.includes(e)))}function Cg(){return Eo}function Ng(){Eo=[]}function Og(t,e){if(!window.fbq.alreadyIntercepted)if(typeof window.fbq?.getState=="function"){let o=window.fbq;window.fbq=(...r)=>{Pf(e,...r),o(...r)},Object.keys(o).forEach(r=>{Object.defineProperty(window.fbq,r,{set:n=>{o[r]=n},get:()=>o[r]})}),window.fbq.alreadyIntercepted=!0,Cg()?.forEach(([...r])=>Pf(e,...r)),Ng()}else throw new Error(`${yo} pixel not yet loaded for ${t}.`)}function Rg(t,e){let o=[];if(e?.length){let r=Go(t);e.forEach(n=>{let s=n?.loadPixel===!0,p=n?.pixelId,f=o.includes(p);s&&p&&!f&&r&&(o.push(p),er(p,r))})}}function Lg(t,e){let o=re(t).platforms?.filter(r=>r.platform?.toLowerCase()===yo);Rg(e,o),D(()=>{kg(window.fbq?.queue),Og(t,e)},()=>i.error(new R(`${yo} pixel not present for ${t}.`),100))}var qi={name:yo,setup:Lg};function Dg(){return new Promise((t,e)=>D(()=>{if(window.Shopify.checkout)return t(window.Shopify.checkout);throw new R("Shopify checkout object missing")},o=>{i.error(o),e(o)},100))}function Fg(){if(!window.Shopify)throw new R("Shopify global missing")}function Bg(t){D(()=>{Fg(),t()},o=>i.error(o),300,300)}var we={setup:Bg,ensureShopifyCheckoutObjectExists:Dg};function wo(t,e){if(typeof e!="function")return;let o=window.fetch;window.fetch=(...r)=>o.apply(this,r).then(n=>{try{typeof r[0]=="string"&&r[0]?.match(t)&&e(n.clone())}catch(s){i.error(new Et(`Fetch Sniffer for "${t}" failing with "${s?.message}" possibly due to unexpected ${r}.`))}return n})}function kf(t,e,o){let r=window.fetch;window.fetch=function(...n){try{if(typeof n[0]=="string"&&n[0]?.match(t)){if(o)return r.apply(this,n).then(h.setTimeout(()=>e(n),500));e(n)}}catch{i.error(new Et(`Fetch Intercept Error For URL: ${t}`))}return r.apply(this,n)}}function ve(t){let e=new Error(t);return e.name="InvalidResponseBodyError",e.status="warn",e.stack=j(e.stack,1),e}var Me=/.*\/cart\/add(\.js|\.json)?(\?.*)?$/gm;function Mg(t,e){return new Promise((o,r)=>{W(t,e,o,r)})}var Cf=/.*(\/cart(\.json|\.js)|\/cart\/(change|update)(\.js|\.json)?)(\?.*)?$/gm,Lf="_bcai_cs",Nf=!1;function xr(t){try{pt(Lf,t)}catch(e){i.error(e)}}function Df(){try{return et(Lf)}catch(t){i.error(t);return}}function $g(){return window?.Shopify?.routes?.root?Mg(`${window.Shopify.routes.root}cart.js`).catch(t=>i.error(t)):Promise.resolve()}function Of(t){try{return JSON.parse(t)}catch(e){return i.error(new ve(e?.message)),null}}function Rf(t){let e=[t];t.items?.length&&(e=t.items);let o=e.reduce((p,f)=>{let a={...p};return f?.id!==void 0&&(a[f.id]=f),a},{}),r=Df();if(!r||!t||Object.keys(o).length===0)return;let n=(r.items??[]).map(p=>{let f={...p},a=o[f?.id];return f.quantityAdded=0,a&&(f.quantityAdded=a.quantity-f.quantity,f.quantity=a.quantity,delete o[f.id]),f});Object.keys(o).forEach(p=>{let f=o[p];n.push({...f,quantityAdded:f.quantity})});let s={...r,item_count:n.reduce((p,f)=>p+(f.quantity??0),0),total_price:(r.total_price??0)+n.reduce((p,f)=>p+f.quantityAdded*(f.price??0),0)};s.items=n.map(p=>(delete p.quantityAdded,p)),xr(s)}function Vg(){S()||Nf||(Nf=!0,io(Cf,t=>{try{t=Of(t),t&&xr(t)}catch(e){i.error(e)}}),wo(Cf,t=>{t.json().then(e=>xr(e),e=>{i.error(new ve(e?.message))}).catch(e=>i.error(e))}),io(Me,t=>{try{t=Of(t),t&&Rf(t)}catch(e){i.error(e)}}),wo(Me,t=>{t.json().then(e=>Rf(e),e=>{i.error(new ve(e?.message))}).catch(e=>i.error(e))}))}function Ug(){if(S())return Promise.resolve();let t=Df();return t?Promise.resolve(t):$g().then(e=>(e&&xr(e),e))}var ce={setup:Vg,getData:Ug};var Ff="AddPaymentInfo";function qg(t,e){return t.target.matches(`${["#continue_button",...e].filter(o=>!!o).join(",")}`)}function Gg(){return X()?.replace(/\/$/,"").split("/").pop()}function Hg(t,e){S()||we.setup(()=>{kt()==="payment"&&h.addListener(document,"click",o=>{qg(o,e?.additionalSelectors??[])&&ce.getData().then(r=>{let n=JSON.parse(JSON.stringify(r)),s=jo();s&&(n.total_price=s),t(Ff,{data:r,platform_event_id:Gg()})})},!0)})}var Bf={eventName:Ff,setup:Hg};var Gi="AddToCart",Mf=!1;function Wg(t){if(!Mf){Mf=!0;let e=r=>{function n(s,p){return s?!s[p]&&s[p]!==0:!0}if(n(r,"id")||n(r,"quantity")){i.error(new ve(`SHOPIFY ${Gi} addToCart request did not return valid item: ${JSON.stringify(r)}`));return}delete r.featured_image,delete r.image,delete r.options_with_values,delete r.sections,r.currency=ee(),t(Gi,{data:r})},o=r=>{let n={};r?.items?(n=JSON.parse(JSON.stringify(r?.items)),n.forEach(s=>e(s))):r&&(n=JSON.parse(JSON.stringify(r)),e(n))};io(Me,r=>{let n=JSON.parse(r);o(n)}),wo(Me,r=>{r.json().then(n=>{o(n)})})}}var $f={eventName:Gi,setup:Wg};var Kg=["button#checkout[type=submit]","button#checkout[type=submit] *","button[name=checkout]","button[name=checkout] *","input[id*=checkout][type=submit]","input[id*=checkout][type=submit] *",'[href*="/checkout"]','[href*="/checkout"] *',"button.rebuy-cart__checkout-button","button.rebuy-cart__checkout-button *","i.rebuy-button-icon","i.rebuy-button-icon *",'form[action="/cart"] [name="checkout"]','form[action="/cart"] [name="checkout"] *'],jg=["#dynamic-checkout-cart button","#dynamic-checkout-cart button *","#dynamic-checkout-cart [role=button]","#dynamic-checkout-cart [role=button] *",".additional-checkout-buttons button",".additional-checkout-buttons button *",".additional-checkout-buttons [role=button]",".additional-checkout-buttons [role=button] *"];function Jg(t,e){return t.target.matches(`${[...Kg,...jg,...e].filter(o=>!!o).join(",")}`)}function Yg(t,e){return new Promise(o=>{C(()=>{h.addListener(document,"click",r=>{if(Jg(r,e?.additionalSelectors??[])&&r.isTrusted){let n=r.target.parentNode?.form;(!n||n.checkValidity())&&t()}},!0),o()})})}var Vf={setup:Yg};function Hi(t){let e=new Error(t);return e.name="BadRenderError",e.status="warn",e.stack=j(e.stack,1),e}var Xg=new Promise(t=>{C(t)}),zg="div.paypal-checkout-sandbox";function Qg(t){return new MutationObserver(e=>{e.forEach(o=>{o.addedNodes.forEach(r=>{r instanceof Element&&r.matches(zg)&&t()})})})}async function Zg(t){try{if(S())return;await Xg;let e=Qg(t);D(()=>{if(!(document.body instanceof Node))throw new Error;e.observe(document.body,{childList:!0})},()=>{i.error(new Hi(`document.body did not render in time and had value: ${document.body}`))})}catch(e){i.error(e)}}var Uf={setup:Zg};var qf="InitiateCheckout";function t_(t,e){if(Ce())return Promise.resolve();ce.setup();let o=()=>{ce.getData().then(r=>{t(qf,{data:r})})};return Promise.all([Vf.setup(o,e),Uf.setup(o)])}var Gf={eventName:qf,setup:t_};var Hf="PageView";function e_(t){t(Hf)}var Wf={eventName:Hf,setup:e_};var Kf="Purchase";function o_(t){return["order_id","line_items","total_price_set.shop_money.currency_code","total_price_set.shop_money.amount"].every(e=>v(t,e)!==void 0)}function r_(t){k("platform",E.VIEW_RESPONSE,()=>{we.setup(()=>{L("page.log_purchase")&&we.ensureShopifyCheckoutObjectExists().then(e=>{D(()=>{if(o_(e))t(Kf,{data:{...e},platform_event_id:e.order_id});else throw new Error},()=>{throw new R("Shopify checkout required fields are missing")},300,100)}).catch(e=>{i.error(e)})})})}var jf={eventName:Kf,setup:r_};function Jf(t,e){return I({},{content_ids:e?.map(o=>o?.product_id).filter(o=>o),currency:t?.currency,content_type:"product_group",num_items:e?.reduce((o,r)=>o+(r?.quantity?r.quantity:0),0)})}function n_(t){let e=t?.line_items??[];return I(Jf(t,e),{order_id:t?.order_id,currency:t?.total_price_set?.shop_money?.currency_code,value:t?.total_price_set?.shop_money?.amount,contents:e?.map(o=>({id:o?.product_id,quantity:o?.quantity,item_price:o?.price,title:o?.title}))})}function Yf(t){function e(r){return I({},{id:r?.product_id,quantity:r.quantity,item_price:Pe(r.price),title:r.product_title,description:r.product_description,category:r.product_type})}let o=t?.items??[];return I(Jf(t,o),{value:jo()||Pe(t?.total_price),contents:o?.map(r=>e(r))})}function i_(t){let e={};return t?.items?.length?e=JSON.parse(JSON.stringify(t?.items[0])):t&&(e=JSON.parse(JSON.stringify(t))),{content_category:e.product_type,content_ids:e.product_id?[e.product_id]:[],content_name:e.title,content_type:"product_group",currency:e.currency||ee(),num_items:e.quantity||1,value:e.price?Pe(e.price):void 0}}function s_(t){let e={...Yf(t)};return delete e?.num_items,e}function a_(t){return I({},{content_category:t?.type,content_ids:t?.id&&[t?.id],content_name:t?.title,content_type:"product_group",currency:t?.currency,value:Pe(t?.price)})}var c_={addtocart:{eventName:"AddToCart",convert:i_},purchase:{eventName:"Purchase",convert:n_,isValid:t=>t?.total_price_set?.shop_money?.currency_code&&t?.total_price_set?.shop_money?.amount},addpaymentinfo:{eventName:"AddPaymentInfo",convert:s_},viewedproduct:{eventName:"ViewContent",convert:a_},pageview:{eventName:"PageView"},initiatecheckout:{eventName:"InitiateCheckout",convert:Yf}};function Xf(t,{data:e}={}){let o=c_[t?.toLowerCase()];if(!o||o.isValid&&!o.isValid(e))return;let r=o.convert&&o.convert(e);return{eventName:o.eventName,data:r}}function Wi(t,e){return t.find(o=>o.eventSource==="shopify"&&o.originalEventName===e)}var Qf="facebook_ads",zf=[];function Zf(t){return re(t).platforms?.filter(e=>e.platform?.toLowerCase()===Qf)}function f_(t,e){let o=Go(t);Zf(e).forEach(n=>{let s=n?.loadPixel===!0,p=n?.pixelId,f=zf.includes(p);s&&p&&!f&&o&&(zf.push(p),er(p,o))})}function u_(t,e,o="identity"){let r=Xf(t,e);Zf(o).forEach(n=>{let s=Wi(n?.eventTrackers||[],t),p=s?.overrideEventName||s?.originalEventName;function f(){return s&&p&&r&&window.fbq&&n.pixelId}f()&&window.fbq("trackSingle",n.pixelId,p,r?.data,{eventID:e?.platform_event_id})})}var Ki={name:Qf,setup:f_,sendEvent:u_};var tu={[Ki.name]:Ki},eu,ou,ji,Ji;function p_(t,e,o,{browserEventPlatforms:r}={}){eu=t,ou=e,ji=o,Ji=r??[],Ji.forEach(n=>{tu[n]?.setup(ji,e)})}function m_(t,e={},{browserEventPlatforms:o}={}){let r=o??Ji;e.platform_event_id||(e.platform_event_id=Xe()),Be(eu,ji,t,e),r.forEach(n=>{tu[n]?.sendEvent(t,e,ou)})}var fe={setup:p_,sendEvent:m_};var ru="ViewedProduct";function nu(t,e){let o=JSON.parse(JSON.stringify(t));if(o.variants&&o.variants.length){let n=t.variants[0];n.name&&(o.title=n.name),o.variants=[n]}delete o.images,delete o.media,delete o.featured_image,delete o.description;let r=ee();r&&(o.currency=r),e(ru,{data:o})}function d_(t){we.setup(()=>{if(to()){let e=`${X()}.js${window.location.search}`;U(e,{},o=>nu(o,t))}})}var iu={eventName:ru,setup:d_,sendProductDataToPlatform:nu};var Yi="shopify";function l_(t){let e=re(t),[o]=e?.platforms?.filter(r=>r?.platform===Yi.toUpperCase());return o}function g_(t,e){let o=l_(t),r=o?.eventTriggerSettings;fe.setup(Yi,t,e,o),Bf.setup(fe.sendEvent,r?.AddPaymentInfo),$f.setup(fe.sendEvent,r?.AddToCart),Gf.setup(fe.sendEvent,r?.InitiateCheckout),Wf.setup(fe.sendEvent,r?.PageView),jf.setup(fe.sendEvent,r?.Purchase),iu.setup(fe.sendEvent,r?.ViewedProduct)}var Xi={name:Yi,setup:g_};var __="shopify_webhook";function h_(t,e){function o(r){if(!r)return!1;try{let n=JSON.parse(r);return!!(n?.site_name&&n?.ids?.length)}catch{return!1}}ce.setup(),ce.getData().then(r=>{if(!o(r?.attributes?._bcai)||!r?.attributes?._bcai_aid){let n={method:"POST",body:JSON.stringify({attributes:{_bcai:JSON.stringify({site_name:u,ids:st(e)}),_bcai_aid:A("_shopify_y")}}),headers:{Accept:"application/json","Content-Type":"application/json"}};U(`${window?.Shopify?.routes?.root||"/"}cart/update.js`,n,()=>{},()=>{i.error(new Et("Cart update failed"))})}})}var zi={name:__,setup:h_};function $t(t={}){let e="https://api.blackcrow.ai/user/?";Ut(u)&&(e="https://api.sandbox.blackcrow.ai/user/?");let o={site_name:u,ids:t},r=JSON.stringify(o);Yt(e,r),Tf(ae,o)}function E_(t){function e(o){let r=st(t),n=Pt("e",En(o));r.length&&n.length&&$t(r.concat(n))}ka(e)}var Qi={name:"email",setup:E_};function y_(t){function e(o){let r=st(t),n=Pt("p",Fn(o));r.length&&n.length&&$t(r.concat(n))}uc(e)}var Zi={name:"phone",setup:y_};function vo(t,e){return Dt(t)===e?!0:(ie(t,e),!1)}var w_="_kx";function v_(t){let e=st(t);function o(s){let p=Pt("klx",s);e.length&&p.length&&$t(e.concat(p))}function r(){return ge()}let n=r();o(G(w_)),vo("_bcai_s_keid",n)||o(n)}var ts={name:"klaviyo",setup:v_};function S_(t){function e(){let g=G(Qs);return g?.trim().length>0?`fb.1.${Date.now()}.${g}`:A(Oo)}function o(){return A(Xt)}let r=st(t);function n(g){let _=Object.entries(g).reduce((y,[N,M])=>y.concat(Pt(N,M)),[]);r.length&&_.length&&$t(r.concat(_))}let[s,p]=[e(),o()],[f,a]=[vo("_bcai_s_fbc",s),vo("_bcai_s_fbp",p)];n({...!f&&{fbc:s},...!a&&{fbp:p}})}var es={name:"facebook_ads",setup:S_};function I_(t){let e=st(t),o=gc();o&&e.length&&o.forEach(r=>{let n=[];n=n.concat(Pt("fn",Jo(r.fn))),n=n.concat(Pt("ln",Jo(r.ln))),n=n.concat(Pt("fln",Jo(r.fln))),n.length&&$t(e.concat(n))},[])}var os={name:"name",setup:I_};function rs(t,...e){return new Promise((o,r)=>{t(...e,n=>o(n),n=>r(n))})}var A_={[Ui.name]:Ui,[qi.name]:qi,[Xi.name]:Xi,[zi.name]:zi},x_={[Qi.name]:Qi,[Zi.name]:Zi,[ts.name]:ts,[es.name]:es,[os.name]:os};function T_(t,e){e.forEach(o=>{let r=x_[o];r&&typeof r.setup=="function"&&r.setup(t)})}function b_(t,e){t.length!==0&&e&&e.forEach(o=>{let r=A_[o];r&&typeof r.setup=="function"&&r.setup(ae,t)})}function P_(t){return t.filter(e=>e.source==="cookie"&&e.cookieLoadUrl)}function k_(t){let e=[];return t.forEach(o=>{A(o.value)||e.push(rs(U,o.cookieLoadUrl,{mode:"no-cors",credentials:"include"}))}),e}function C_(){let t=re(ae),e=t.userAttributes||[],o=t.userIdentifiers||[],r=P_(o),n=[],s=new Set((t.platforms||[]).map(f=>f?.platform?.toLowerCase()).filter(f=>f));r.length&&(n=k_(r));function p(){C(()=>{T_(o,e)}),b_(o,s)}return lo(n).then(p())}function N_(){return C_(),{}}var su={appName:ae,init:N_};var Tr={audience:Uc,measure:qc,pwo:af,target:If,identity:su};var So={};function O_(t){let e=Gt(t.appName);if(typeof t.init=="function"&&e.active)return t.init();let o=Zo(t.appName),r={};return o.forEach(n=>{r[n]=Promise.resolve()}),r}function R_(t,e){let o=Gt(t.appName);return typeof t.sendAppScores=="function"&&o.active?t.sendAppScores(e):Promise.resolve()}function au(){w(Tr,(t,e)=>{Gt(e).active&&(So[t.appName]=t)})}function cu(){let t={};return w(So,e=>{t[e.appName]=O_(e)}),t}function ns(t){if(Ut(u))return Promise.resolve();let e=[];return w(So,o=>{e.push(R_(o,t[o.appName]))}),Promise.all(e)}function fu(){w(So,t=>{typeof t.cleanup=="function"&&t.cleanup()}),So={}}function J(t){k("platform",E.VIEW_RESPONSE,e=>t(e))}function uu(t,e){return We(t),ns(e)}function br(t,e){We(t),Da(t.history_id),Za(),Dn(),Ka(),ns(e).then(()=>{Mt.sendValidationEvent({location:"view_request"},"FB view event not sent")}),at("platform",E.VIEW_RESPONSE,t)}var Pr=`${c}_overrides`,pu=!1,kr=null;function L_(){kr=null,ie(Pr,{})}function mu(t){let e=I({},kr||Dt(Pr),t);kr=e,ie(Pr,e),pu&&console.log(`Your <${c}> settings will apply on the next page load. Please refresh the page.`)}function D_(){w(Tr,(t,e)=>{k("platform",`force_${e}`,()=>{mu({apps:{[e]:{active:!0}}})})})}function du(){k("platform",E.OVERRIDES,mu),k("platform",E.CLEAR_OVERRIDES,L_),D_()}function lu(){return pu=!0,kr||Dt(Pr)}function gu(){return au(),cu()}var _u=!1;function F_(){let t=[...document.querySelectorAll("[data-shipping-method-label-title]")];if(t.length){let e=[];return t.forEach(o=>{let n=new RegExp(/([A-Za-z0-9- ]*)(?:\s)(\([A-Za-z0-9- ]*\))/).exec(o.dataset.shippingMethodLabelTitle.trim());n&&n.length&&e.push({method:n[1],duration:n[2]})}),e}return null}function is(){let t=[...document.querySelectorAll("[data-checkout-total-shipping]")],e=F_();if(t.length&&e){let o=[];return t.forEach((r,n)=>{let s={...e[n],cost:r.dataset.checkoutShippingRate,selected:r.checked};o.push(s)}),{custom_dimensions:{tax_amount:Ze(),shipping_options:o}}}return null}function B_(){let t=[...document.querySelectorAll("[data-review-section]")];if(t.length){let o=new RegExp(/([0-9A-Za-z- ]*)(?:\s)(\([A-Za-z0-9- ]*\))(?:\s*·*\s*)(.*)/).exec(t[0].textContent.trim());if(o&&o.length)return{custom_dimensions:{tax_amount:Ze(),selected_shipping_option:{method:o[1],cost:o[3]}}}}return null}function M_(){let t=B_();t&&i.push({trigger:E.CA_PAYMENT,data:t})}function $_(){let t=is();t&&i.push({trigger:E.CA_SHIPPING_EXIT,data:t})}function ss(){C(()=>{let t=kt();t==="payment"&&M_(),t==="shipping"&&!_u&&(h.addListener(window,"beforeunload",()=>{$_()}),_u=!0)}),J(()=>{k("platform",E.CA_PAYMENT,t=>{O(b.CA_PAYMENT,t)}),k("platform",E.CA_SHIPPING_EXIT,t=>{O(b.CA_SHIPPING_EXIT,t)})})}var V_="bcai_ca";function hu(t){let e=G(V_);return e==="test"?!0:e==="control"?!1:!!t}function Eu(t){let e=t.comparison_type,o=t.comparison_group,r=t.score_range,s=(mt(`${yt}.scores`)||[]).find(p=>p.comparison_type===e&&p.comparison_group===o);return hu(s&&r.indexOf(s.score)!==-1)}function yu(t){let o=[...document.getElementsByClassName("reduction-code__text")].find(n=>n.textContent===t),r=document.getElementsByClassName("tags-list").length;return!!(r===1&&o||r===0)}function wu(t,e){return e?t<=e:!0}function vu(t,e){return e?e<=t:!0}function Su(){return document.getElementsByClassName("recurring-total-label-content").length===0}function Iu(t){return hu(t&&q({name:"checkout_abandonment",allocations:[{percent:t,value:!0}]}))}function Au(t,e,o,r,n,s,p,f){let a=o&&r&&t&&e&&s&&p&&f;return a&&n?"treatment":a&&!n?"control":"not_eligible"}function xu(t){let e={experiment_config:te(t),resolved_experiment_config:Tt(t)};return Object.keys(e.experiment_config).length>0?e:{}}function $e(t){return(t*.01).toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2})}var U_="checkout_abandonment",q_="checkout_abandonment.banner.activate",Tu=!1;function Ve(){return Tt(U_)?.data?.free_shipping_test||{}}function as(){let t=Ve().version;if(t)return parseInt(t.replace("_",""),10)}function Cr(){Tu||window.dataLayer&&L("config.google_optimize.container_id")&&(window.dataLayer.push({event:q_}),Tu=!0)}function bu(t,e){let o=document.getElementsByClassName("order-summary-toggle");o.length&&o[0].click();let r=document.getElementById("checkout_reduction_code");r&&e.coupon_code&&(r.value=e.coupon_code);let n=document.getElementById("checkout_submit");n&&(n.removeAttribute("disabled"),n.classList.remove("btn--disabled"),n.click()),h.setTimeout(()=>{let s=e.shipping_cost||595;if(s&&as()===15&&ee()==="USD"){let a=$e(t+s),g=document.querySelector("dl.total-recap");if(g){let N=Ct("dt",{className:"visually-hidden",innerHTML:"<span>Total price</span>"}),M=Ct("dd",{className:"order-summary__emphasis skeleton-while-loading",innerHTML:`<span>${a}</span>`});M.style.textDecoration="line-through",g.prepend(N,M)}let _=document.querySelector("tr.total-line--subtotal");_&&(_.querySelector("span.order-summary__emphasis").textContent=a);let y=document.querySelector("tr.total-line--reduction");y&&(y.querySelector("span.reduction-code__text").textContent="FREE SHIPPING",y.querySelector("td.total-line__price").querySelector("span.order-summary__emphasis").textContent=`-${$e(s)}`)}[...document.getElementsByClassName("total-line--shipping")].forEach(a=>{a.style.display="none"}),[...document.getElementsByClassName("reduction-code__text")].forEach(a=>{a.style.opacity="1"})},2e3),Cr()}var Pu=!1;function G_(t){let e=t.hotjar,o=t.hotjar_ratio_of_test_bucket;return e&&o&&q({name:"hotjar",allocations:[{percent:o,value:!0}]})}function H_(t){let e=t.hjid,o=t.version;e&&o&&(function(r,n,s,p,f,a){r.hj=r.hj||function(){(r.hj.q=r.hj.q||[]).push(arguments)},r._hjSettings={hjid:e,hjsv:6},f=n.getElementsByTagName("head")[0],a=n.createElement("script"),a.async=1,a.src=s+r._hjSettings.hjid+p+r._hjSettings.hjsv,f.appendChild(a)}(window,document,"https://static.hotjar.com/c/hotjar-",".js?sv="),window.hj("event","bcai_ca_test"),window.hj("event",`bcai_ca_test_${o}`))}function cs(){let t=Ve();!Pu&&G_(t)&&(H_(t),Pu=!0)}var ku=!1;function W_(t){let e="cart/add",o=E.ADD_TO_CART;fr(e,()=>{i.push({trigger:o})}),kf(e,()=>{i.push({trigger:o})},t)}function K_(t){h.addListener(window,"click",e=>{let o=v(e,"target.className");(e.target.getAttribute("name")==="checkout"||t&&typeof o=="string"&&o.match(t))&&i.push({trigger:"initiate_checkout"})})}function fs(t){let e=[];return t.items.forEach(o=>{e.push({sku:o.sku,id:o.id,quantity:o.quantity})}),t.items=e,t}function us(t,e){return t.items&&(t=fs(t)),{cart_json:t,...xu(e)}}function ps(t,e,o,r){U("/cart.json",{servletName:"ShopifyCart"},n=>{let s={custom_dimensions:us(n,r)};o?e(o,I({},t,s)):e(I({},t,s))})}function ms(t){ku===!1&&(D(()=>{if(Bt()&&L("config.shopify.add_to_cart.active"))return W_(!0);throw new Error("Shopify globals not found")}),L("config.shopify.checkout.active")&&K_(L("config.shopify.checkout.class_name")),ku=!0),J(()=>{Bt()&&L("config.shopify.add_to_cart.active")&&k("platform",E.ADD_TO_CART,e=>{ps(I({},e,{page_id:"AddToCart"}),t,void 0,"checkout_abandonment")}),k("platform",E.INITIATE_CHECKOUT,e=>t(I({},e,{page_id:"checkout"})))})}var Nr="checkout_abandonment",j_="bcai_ca";function J_(){return Tt(Nr)?.data?.data_logging||{}}function ds(){return Tt(Nr).active}function Y_(){let t=Ve().exclude_channels,e=It(x());function o(r,n){return e[r]===n}t&&(t.values||[]).forEach(n=>{o(t.param,n)&&V(Jr,"true")})}function X_(){function t(r){return Object.keys(I({},r)).filter(n=>n.match("Config$")).map(n=>n.replace(/Config$/,""))}let e=v(window,"Shopify.Checkout.dynamicCheckoutPaymentInstrumentsConfig.paymentInstruments");return{custom_dimensions:{checkout_options:e?t(e):void 0}}}function z_(t={}){let e=bt(),o=J_().checkout_data_page_ids||[];if(ds()&&o.indexOf(e)!==-1){let r=kt(),n;r==="contact"?n=I({},t,X_()):r==="shipping"?n=I({},t,is()):n=t,i.push({trigger:E.CA_CART_CHECKOUT,payload:n})}}function Cu(t){C(()=>{z_(t)});let e=bt(),o=Ve();o.test_page_id&&ds()&&e===o.test_page_id&&U("/cart.json",{servletName:"ShopifyCart"},r=>{let n=r.total_price,s=Eu(o),p=yu(o.coupon_code),f=wu(n,o.max_total_price),a=vu(n,o.min_total_price),g=Iu(o.test_bucket_ratio),_=Su(),y=!A(zs),N=!A(Jr),M=Au(s,p,f,a,g,_,y,N),_t=M==="treatment",Rt=o.version,jt=G(j_),Vt=I({eligible:_t,score_in_range:s,coupon_empty:p,cart_value_below_threshold:f,cart_value_above_threshold:a,test_bucket:g,non_subscription_item:_,pii_not_submitted:y,not_excluded_by_channel:N},{force_bucket:jt}),Ie={custom_dimensions:{...us(r,Nr),eligibility:Vt,experiment_group:jt?"not_eligible":M,version:Rt}};O(b.CA_TEST,Ie),_t&&(cs(),o.a_a_test||(V(jr,"true",30),o.display_banner_only?C(()=>Cr()):C(()=>bu(n,o))))})}function Or(){if(Y_(),A(jr)){cs();let t=as();(t===13||t===14)&&ds()&&Ce()&&!v(window,"Shopify.checkout")&&Cr()}J(()=>{k("platform",E.CA_CART_CHECKOUT,t=>{ps(t,O,b.CA_CART_CHECKOUT,Nr)}),Cu()})}var Nu=!1;function ls(){Nu||(C(()=>{if(!["korres","dropps","theadventurechallenge","pacificabeauty","nativecos"].includes(u.toLowerCase()))return;let e,o;window.DeviceOrientationEvent&&(DeviceOrientationEvent.requestPermission||h.addListener(window,"deviceorientation",r=>{let[n,s,p]=[r.alpha,r.beta,r.gamma];o={alpha:n,beta:s,gamma:p}},{once:!0})),window.DeviceMotionEvent&&(DeviceMotionEvent.requestPermission||h.addListener(window,"devicemotion",r=>{let[n,s,p]=[r.acceleration.x,r.acceleration.y,r.acceleration.z];e={x:n,y:s,z:p}},{once:!0})),h.addListener(window,"beforeunload",()=>{if(o||e){let r={custom_dimensions:{motion:e,orientation:o}};O(b.DEVICE_MOTION,r)}})}),Nu=!0)}var Ou=!1;function Ru(t){let e=[...document.querySelectorAll(t)],o=e.length>0?e[0].textContent:null;return o?o.trim():null}function Lu(){if(Ce()){let t=document.querySelector(".tags-list"),e=t?t.querySelector(".reduction-code__text"):null,o=e?e.textContent:null,r=Ru("[data-checkout-discount-amount-target]"),n=Ru("[data-checkout-subtotal-price-target]");if(o){let s={custom_dimensions:{discount_code:o,discount_value:r,subtotal:n}};i.push({trigger:E.DISCOUNT_APPLIED,data:s})}}}function gs(){C(Lu),J(()=>{k("platform",E.DISCOUNT_APPLIED,t=>{O(b.DISCOUNT_APPLIED,t)})}),Ou===!1&&(h.addListener(window,"beforeunload",()=>{Lu()}),Ou=!0)}function Io(t){i.push({trigger:E.DISCOUNT_INTERACTION,data:{custom_dimensions:{interaction_type:t}}})}function Q_(){function t(){h.setTimeout(()=>{document.getElementById("error-for-reduction_code")?Io("invalidated"):Io("validated")},3e3)}let e=document.getElementById("checkout_reduction_code");e&&h.addListener(e,"focus",()=>{Io("focused_input")});let o=document.getElementById("checkout_submit");o&&h.addListener(o.form,"submit",t),[...document.getElementsByClassName("tag")].forEach(n=>{let s=n.querySelector("span.reduction-code");s&&h.addListener(s,"click",()=>{Io("clicked_code")});let p=n.querySelector("button[type=submit]");p&&h.addListener(p,"click",()=>{Io("clicked_remove")})})}function _s(){C(Q_),J(()=>{k("platform",E.DISCOUNT_INTERACTION,t=>{O(b.DISCOUNT_INTERACTION,t)})})}function hs(){if(kt()!=="contact")return;let t,e,o={custom_dimensions:{initial_opt_in_status_email:null,initial_opt_in_status_phone:null,final_opt_in_status_email:null,final_opt_in_status_phone:null}};C(()=>{t=document.getElementById("checkout_buyer_accepts_marketing"),e=document.getElementById("ps_accepts_sms"),o.custom_dimensions.initial_opt_in_status_email=t?t.checked:null,o.custom_dimensions.initial_opt_in_status_phone=e?e.checked:null;let r=document.getElementById("continue_button");r&&h.addListener(r,"click",()=>{e||(e=document.getElementById("ps_accepts_sms")),o.custom_dimensions.final_opt_in_status_email=t?t.checked:null,o.custom_dimensions.final_opt_in_status_phone=e?e.checked:null,O(b.MARKETING_CHECKOUT_EVENT,o)})})}var St={platforms:{attentive:{submitEvents:["EMAIL_LEAD"]},bounceExchange:{submitEvents:["input_submission","campaign_submit"]},justUno:{},klaviyo:{submitEvents:["submit"]},sleekNote:{submitEvents:["submit"]},wisePops:{submitEvents:["after-form-submit"]},generic:{}},platformIdentifiers:["kl-","klaviyo","attn","fieldcaptureform","sleeknote","justuno","bx","bounceexchange","wisepops"],platformIdentifierExceptions:["kmail"],metadataViolators:["phone","email","sentIdentifiers"],page_id:"EmailSubmit"};var{platformIdentifiers:Z_,platformIdentifierExceptions:th,metadataViolators:eh}=St,Fu=(t,{qualified:e,resolveTarget:o})=>t?e(t)?o?t:!0:t.parentElement?Fu(t.parentElement,{qualified:e,resolveTarget:o}):!1:!1,oh=t=>t.style.position==="fixed"||t.style.top==="0"||t.style.top==="0px",rh=t=>t.nodeName.toLowerCase()==="iframe",nh={form:{qualified:t=>t.nodeName.toLowerCase()==="form",resolveTarget:!0},footer:{qualified:t=>t.nodeName.toLowerCase()==="footer",resolveTarget:!1},overlay:{qualified:t=>oh(t)||rh(t),resolveTarget:!1}},Es=(t,e)=>Fu(t,nh[e]),Bu=t=>Es(t,"form"),ih=t=>Es(t,"footer"),sh=t=>Es(t,"overlay"),ah=t=>{if(!t)return"unknown";try{if(sh(t))return"overlay";if(ih(t))return"footer";if(bt()==="checkout")return"checkout"}catch{i.error(new R("email location failed"))}return"unknown"},Mu=()=>{let t=bt()==="checkout",e=document.querySelector('input[type="checkbox"]');return t&&e&&!e.checked},ch=(t,e)=>t.some(o=>typeof o=="string"&&o.toLowerCase().includes(e)),Du=(t,e)=>e.some(ch.bind(null,t)),$u=t=>{let e=[...Array.from(t.classList),t.action,t.id];return Du(e,Z_)&&!Du(e,th)},fh=t=>{window._learnq=window._learnq||[],window._learnq.push(["identify",{$email:t}])},uh=(t,e)=>{let o={...t};return w(Object.keys(o),r=>{w(e,n=>{r.includes(n)&&(o[r]="redacted")})}),o},ph=t=>{i.push({trigger:E.VIEW,data:{page_id:St.page_id,custom_dimensions:t}})},gt=(t,e)=>{let o=t.email||t.$email,r=gn(o);_n(r)&&(be(r),fh(r),ph({...uh(t,eh),location:ah(e)}),lt.piiWasSubmitted())};var Vu=["checkout","account","login"],mh=bt(),dh=X(),Uu=t=>{if(Vu.includes(mh)||Vu.some(o=>dh.includes(o))||Mu())return;let e=t.value;e&&gt({email:e},document.activeElement)},lh=()=>{let t;w(yn(),e=>{if(t=Bu(e),t){if($u(t))return;h.addListener(t,"submit",()=>{Uu(e)})}else h.addListener(e,"focusout",()=>{Uu(e)})})};function ys(){C(()=>{h.setTimeout(lh,5e3)})}var{submitEvents:gh}=St.platforms.attentive;function ws(){h.addListener(window,"message",t=>{let{origin:e,data:o,target:r}=t;if(e.includes(".attn.tv")){let{__attentive:n}=o;gh.includes(n?.action)&&gt(n,r.document.activeElement)}})}var _h=(t,e)=>{if(e.isWrapped)return e;function o(){try{t.apply(this,arguments)}catch{}return e.apply(this,arguments)}return o.isWrapped=!0,o},Rr=(t,e)=>_h(t,typeof e=="function"?e:()=>{});var{submitEvents:hh}=St.platforms.bounceExchange;function vs(){h.setTimeout(()=>{window.bouncex=window.bouncex||{},window.bouncex&&typeof window.bouncex.push=="function"&&(window.bouncex.push=Rr((...t)=>{let{email:e,source:o}=t[0][1];hh.includes(o)&&gt({email:e})},window.bouncex.push))},8e3)}function Ss(){h.setTimeout(()=>{window.ju_callback=Rr((t,e)=>{gt({email:e})},window.ju_callback)},5e3)}var{submitEvents:Eh}=St.platforms.klaviyo;function Is(){h.addListener(window,"klaviyoForms",t=>{let{detail:e,target:o}=t,{type:r,metaData:n}=e;Eh.includes(r)&&gt(n,o.document.activeElement)})}var{submitEvents:yh}=St.platforms.sleekNote;function As(){h.addListener(window,"sleekNote",t=>{let{data:e,target:o}=t;yh.includes(e.type)&&gt(e.data,o.activeElement)})}var{submitEvents:wh}=St.platforms.wisePops;function xs(){h.setTimeout(()=>{let t=window.WisePopsObject||"";wh.forEach(e=>{window[t]("listen",e,o=>{let{target:r}=o,n=r.querySelector('input[type="email"]')?.value;gt({email:n},r)})})},5e3)}var vh={attentive:ws,bounce_exchange:vs,just_uno:Ss,klaviyo:Is,sleek_note:As,wise_pops:xs};function Ts(){let t=L("config.emailFormTracking"),e=t?.active||!1,o=t?.platforms||[];e&&e===!0&&(ys(),o.map(r=>r.name).forEach(r=>{let n=vh[r];n&&n()}))}function Se(){let t=It(window.location.search).variant,e=t?t.split("?")[0]:null;if(e)return parseInt(e,10);let o=[...document.querySelectorAll('input[name="id"]')];if(o.length===1)return parseInt(o,10);let r=window.ShopifyAnalytics?.meta;if(r?.product?.id){let n=[...document.querySelectorAll(`input[name="id"][data-productid="${r?.product?.id}"]`)];if(n.length===1&&n[0]?.value)return parseInt(n[0].value,10)}if(r?.product?.variants&&r?.selectedVariantId){let n=parseInt(r?.selectedVariantId,10),s=r?.product?.variants.filter(f=>f.id===n);if(window.ReCharge&&window.ga&&document.querySelector('[name="properties[shipping_interval_frequency]"]')?.value){let f=window.ReCharge.products.filter(a=>typeof a.variant_to_duplicate[`${n}`]=="string");if(f.length===1)return f[0].variant_to_duplicate[`${n}`]}if(s.length)return n}return null}var qu=!1;function Sh(t){return t.filter(o=>o.available===!0).length>0}function Ih(t,e){let o=t.filter(r=>r.id.toString()===e);return o[0]?o[0].available:!0}function Gu(){U(`${x().split("?")[0]}.js`,{},t=>{let e=Se(),o=t.variants&&t.variants.length>1,r={custom_dimensions:{out_of_stock:{in_stock:!1}}};e&&o&&!Ih(t.variants,e)?(r.custom_dimensions.out_of_stock.product_id=e,i.push({trigger:E.OUT_OF_STOCK,data:r})):!e&&o&&!Sh(t.variants)?(r.custom_dimensions.out_of_stock.product_id=t.variants[0].id,i.push({trigger:E.OUT_OF_STOCK,data:r})):!e&&!o&&!t.available&&(t.variants?r.custom_dimensions.out_of_stock.product_id=t.variants[0].id:r.custom_dimensions.out_of_stock.product_id=t.id,i.push({trigger:E.OUT_OF_STOCK,data:r}))},()=>({}))}function Ah(){let t=document.URL;h.addListener(document,"change",()=>{let e=document.URL;Se()&&e&&t!==e&&(t=e,Gu())})}function bs(){C(()=>{to()&&(Gu(),qu===!1&&(Ah(),qu=!0))}),J(()=>{k("platform",E.OUT_OF_STOCK,t=>{O(b.OUT_OF_STOCK,t)})})}var Hu=!1;function xh(t){let o=[{type:"shop_pay",button:[...document.querySelectorAll('[data-testid="ShopifyPay-button"]')]},{type:"google_pay",button:[...document.querySelectorAll('[data-testid="GooglePay-button"]')]},{type:"apple_pay",button:[...document.querySelectorAll('[data-testid="ApplePay-button"]')]}].filter(r=>r.button[0]===t.target);if(o.length){let r={custom_dimensions:{type:o[0].type}};i.push({trigger:E.PAYMENT_METHOD_CLICK,data:r})}}function Ps(){Hu||(C(()=>{kt()==="contact"&&(h.addListener(window,"blur",()=>{if(document.activeElement.title==="Checkout with PayPal"){let e={custom_dimensions:{type:"paypal"}};i.push({trigger:E.PAYMENT_METHOD_CLICK,data:e})}}),h.addListener(document,"click",e=>{xh(e)}))}),Hu=!0),J(()=>{k("platform",E.PAYMENT_METHOD_CLICK,t=>{O(b.PAYMENT_METHOD_CLICK,t)})})}var Wu=!1;function Th(t){let e=t.ratio;return t.active&&e&&q({name:"hotjar",allocations:[{percent:e,value:!0}]})}function bh(t,e){t&&e&&e.length&&(function(o,r,n,s,p,f){o.hj=o.hj||function(){(o.hj.q=o.hj.q||[]).push(arguments)},o._hjSettings={hjid:t,hjsv:6},p=r.getElementsByTagName("head")[0],f=r.createElement("script"),f.async=1,f.src=n+o._hjSettings.hjid+s+o._hjSettings.hjsv,p.appendChild(f)}(window,document,"https://static.hotjar.com/c/hotjar-",".js?sv="),w(e,o=>{window.hj("event",o)}))}function Ku(t,e){!Wu&&Th(e)&&(bh(e.hjid,t),Wu=!0)}function Ph(t){document.documentElement.dispatchEvent(new CustomEvent("cart:refresh",{bubbles:!0}));let e=document.querySelector(t.cartCountSelector)||{},o=B(e.innerText.replace(/\D/g,""));e.innerText=(o+1).toString();let r=document.getElementById("mini-cart")||{};r.open=!0}function kh(t,e){t.innerHTML='<img class="loading_image" src="https://init.blackcrow.ai/public/loading.svg">',h.setTimeout(()=>{t.innerHTML=e},2e3)}function Ch(t,e){let o=Ct("span",{className:"sticky-call-to-action-headline",innerHTML:t});return h.addListener(o,"click",()=>{e.custom_dimensions.predictive_button.action="clicked headline",i.push({trigger:E.PREDICTIVE_BUTTON,data:e})}),o}function ju(t,e,o,r){let n={method:"POST",body:JSON.stringify(t),headers:{Accept:"application/json","Content-Type":"application/json"}};U("/cart/add.js",n,()=>{o.name.match("checkout")?window.location.href=r:Ph(e)})}function Ju(t,e,o,r,n,s){let p=o.singleItemCheckout?`/cart/${n}:1`:"/checkout",f={items:[{id:n,quantity:1}]};if(e.length&&!s&&kh(t,e),o.addToCartOverrideSelector&&r.name.match("cart")&&X()?.includes("products")){document.querySelector(o.addToCartOverrideSelector)?.click();return}if(r?.type==="shop-pay"&&(p="/checkout?payment=shop_pay"),window.ReCharge&&window.ga){let a=document.querySelector('[name="properties[shipping_interval_frequency]"]')?.value,g=document.querySelector('[name="properties[shipping_interval_unit_type]"]')?.value;a&&g&&(f.items[0].properties={shipping_interval_frequency:a,shipping_interval_unit_type:g}),U("/cart.js",{},_=>{let y=document.querySelectorAll(`input[name='id'][value='${n}']`).length===0;if(_.items.filter(M=>typeof M.properties?.shipping_interval_frequency=="string").length||y){let M=`&cart_token=${(document.cookie.match("(^|; )cart=([^;]*)")||0)[2]}`,_t=`myshopify_domain=${window.Shopify.shop}`,Rt=`&${window.ga.getAll()[0].get("linkerParam")}`;p=`https://checkout.rechargeapps.com/r/checkout?${_t}${M}${Rt}`}})}if(window.ReChargeWidget?.getWidgets){let a=window.ReChargeWidget.getWidgets()[0]||{},g=a.state?.selectedVariantId,_=a.state?.sellingPlanId,y=a.productData?.selling_plan_groups[0]?.selling_plan_group_id,N=a.subscriptionActive||!1,M={id:g,sellingPlanId:_,sellingPlanGroupId:y,isSubscription:N};if(g&&_&&y&&window.ReChargeWidget?.api?.postToCart){window.ReChargeWidget.api.postToCart(M).then(()=>{window.location.href=p});return}}if(window.og?.store?.getState()?.optedin&&window.og?.store?.getState()?.config?.frequencies?.length>0){let a=window.og?.store?.getState()?.optedin;a&&a.length&&(f.items[0].id=a[a.length-1].id,f.items[0].selling_plan=a[a.length-1].frequency)}window.Rebuy?U(`${x().split("?")[0]}?view=metafield`,{},a=>{a.metafields.erpLineItem&&(f.items[0].properties={"_erp-line-item":a.metafields.erpLineItem}),ju(f,o,r,p)}):ju(f,o,r,p)}function ks(t,e,o,r,n,s=!1){h.addListener(t,"click",()=>{s?n.custom_dimensions.predictive_button.action="clicked alternative option":n.custom_dimensions.predictive_button.action="clicked button";let p=Se();if(p)Ju(t,e,o,r,p,s);else{let f=document.querySelector('a[role="button"]'),a=X()?.includes("pages")&&f?.href?`${f.href}.js`:`${x().split("?")[0]}.js`;U(a,{},g=>{let _=g.variants.filter(y=>y.available===!0);_.length!==0&&(p=_[0].id,Ju(t,e,o,r,p,s))})}i.push({trigger:E.PREDICTIVE_BUTTON,data:n})})}function Yu(t,e,o,r){let n=Ct("div",{className:`sticky-call-to-action-container ${e.animated?"animated":""}`}),s;if(e.headline){let a=Ch(e.headline,o);n.append(a)}if(r?.type==="shop-pay"){let a=Ct("script",{src:"https://cdn.shopify.com/shopifycloud/shop-js/client.js"}),g=document.createElement("shop-pay-button");return g.setAttribute("store-url",`${window.location.origin}`),n.append(a),n.append(g),ks(g,"",e,r,o),n}let p=r.text;s={name:"add",type:"button",innerHTML:p,"accept-charset":"UTF-8",className:`sticky-call-to-action-submit ${r.name}`};let f=Ct("button",s);if(n.append(f),ks(f,p,e,r,o),r.alt_option_text){s={innerHTML:r.alt_option_text,className:`sticky-call-to-action-submit-alt-option ${r.name}`};let a=Ct("a",s),g=document.querySelector(r.alt_option_override_container);g?g.append(a):n.append(a);let _={...r};r.name.match("checkout")?_.name="cart":_.name="checkout",ks(a,r.alt_option_text,e,_,o,!0)}return n}var Nh="event",Oh="google_analytics";function Rh(t){t.message===T?i.error(new R(`${Oh} globals not found`)):i.error(t)}function Xu(t,e){let o=F(["blackcrow",t,e]);D(()=>{if(typeof window.ga=="function"){window.ga("send",{hitType:Nh,eventCategory:o,eventAction:null,eventLabel:null,nonInteraction:!0});return}if(typeof window.gtag=="function"){window.gtag("event",o,{event_category:o,event_label:null,non_interaction:!0});return}throw new Error(T)},Rh)}var Lh="bcai_pbtn",Dh="bcai_pbgn",Fh="bcai_pbs",Cs="sticky_call_to_action";function Bh(){let t=G(Lh);return t&&t.length?t:!1}function Mh(){let t=G(Dh);return["control","treatment"].includes(t)?t:!1}function $h(){let t=G(Fh);return parseFloat(t)>=0?t:!1}function Vh(){return Tt(Cs)?.data||{}}function Uh(t,e,o,r){let n=document.querySelector(t.original_button_selector),s=e.querySelector(".sticky-call-to-action-submit");if(n){let p=t.text;if(t.include_prices){let f=o.variants.find(g=>g.id===r)||{};p+=` - ${$e(f.price||o.price)}`;let a=document.querySelector(`input[value="${r}"]`);h.addListener(a,"change",()=>{a.value.length&&(f=o.variants.find(g=>g.id===parseInt(a.value,10))||{},n.innerHTML=`${t.text} - ${$e(f.price||o.price)}`)})}n.innerHTML=p,h.addListener(n,"click",f=>{f.preventDefault(),s.click()})}}function qh(t,e,o){let r=document.querySelector(t),n=document.querySelector(e);if(r&&h.addListener(r,"click",()=>{o.custom_dimensions.predictive_button.action="clicked button",i.push({trigger:E.PREDICTIVE_BUTTON,data:o})}),n)if(!n.attributes.hidden)o.custom_dimensions.predictive_button.action="render",i.push({trigger:E.PREDICTIVE_BUTTON,data:o});else{let s=new MutationObserver(()=>{n.attributes.hidden||(o.custom_dimensions.predictive_button.action="render",i.push({trigger:E.PREDICTIVE_BUTTON,data:o}),s.disconnect())});s.observe(n,{attributes:!0,childList:!0})}}function zu(t,e,o,r,n){let s=document.querySelector(t.openMenuSelector);le()>=r&&!e.classList.contains("active")&&ha()<464&&s===null?(e.classList.add("active"),o.custom_dimensions.predictive_button.action="render",i.push({trigger:E.PREDICTIVE_BUTTON,data:o})):n&&e.classList.contains("active")&&le()<r&&e.classList.remove("active")}function Gh(t){let e=Mh();return e||t.experiment_group}function Qu(t,e=[]){let o=$h()||e.find(r=>r.name&&r.name===t.score_name)?.score;return o?t.score_values.sort((n,s)=>s.score_threshold-n.score_threshold).find(n=>n.score_threshold<=o):null}function Hh(t,e){let o=Bh(),n=te(Cs)?.data?.button_displayed,s={};return o&&Array.isArray(n)?(s=n.find(p=>p.name===o)?.value,s.score_values?Qu(s,e):s):t?.button_displayed?.score_values?Qu(t.button_displayed,e):t.button_displayed}function Wh(){let t=te(Cs);if(!((X()?.includes("products")||X()?.includes("pages"))&&t.active))return;let e=Vh();if(e.product_blacklist&&e.product_blacklist.includes(bt()))return;let o=Gh(e),r=`${x().split("?")[0]}.js`;function n(s){let p=Se();if(!p&&!(s.variants&&s.variants[0]?.id))return;let f=s.variants.find(a=>a.id===p)||{};U("/cart.js",{},a=>{if(document.querySelector(".sticky-call-to-action-container"))return;a.items&&(a=fs(a));let g={custom_dimensions:{predictive_button:{action:"impression",button_displayed:e.button_displayed,experiment_group:o,item_cost:f.price||s.price,cart_total:a.total_price,cart_json:a,version:e.version}}};O(b.PREDICTIVE_BUTTON_DECISION,g,_=>{e.send_ga_events&&Xu(g.custom_dimensions.predictive_button.action,o);let y=Hh(e,_.apps?.audience?.scores);if(g.custom_dimensions.predictive_button.button_displayed=y,i.push({trigger:E.PREDICTIVE_BUTTON,data:g}),!o||!y)return;if(o==="control"){if(!e.controlButtonSelector)return;qh(e.controlButtonSelector,e.controlButtonContainer,g);return}if(document.head.insertAdjacentHTML("beforeend",`<link type="text/css" rel="stylesheet" href="https://init.blackcrow.ai/public/css/${u.toLowerCase()}.css">`),e.hotjar){let _t=[`bcai_pred_bttn_${y.name}`];Ku(_t,e.hotjar)}let N=Yu(s,e,g,y);document.body.append(N),y.original_button_selector&&Uh(y,N,s,p);let M=y.scroll_depth||e.scroll_depth;M?h.addListener(window,"scroll",()=>{zu(e,N,g,M,y.hide_on_scroll_up)}):zu(e,N,g,M,y.hide_on_scroll_up)})})}if(X().includes("pages")){let s=new MutationObserver(()=>{if(document.querySelector('a[role="button"]')?.href){if(s.disconnect(),r=`${document.querySelector('a[role="button"]').href}.js`,!r.includes("/products/"))return;U(r,{},f=>n(f))}});s.observe(document,{attributes:!1,childList:!0,characterData:!1,subtree:!0})}else U(r,{},s=>n(s))}function Lr(){J(()=>{C(Wh),k("platform",E.PREDICTIVE_BUTTON,t=>{O(b.PREDICTIVE_BUTTON,t)})})}function Ns(){C(()=>{h.setTimeout(()=>{if(window.Rebuy){let t={custom_dimensions:{modules:window.Rebuy.modules}};i.push({trigger:E.RB_ACTIVE,data:t})}},3e3)}),J(()=>{k("platform",E.RB_ACTIVE,t=>{O(b.RB_ACTIVE,t)})})}var Zu=[Or,ls,gs,_s,hs,Ts,bs,Ps,Lr,ss,ms,Ns];var Dr="target",Kh=[Mt,go,ho];function Os(){function t(o){let r="advanced_matching";Ht(Dr,o,r),Y(`${Dr} ${r}: ${o}`,"update")}function e(o){let r=$(Dr,o.name);!r||Object.keys(r).length===0||typeof o.identify=="function"&&o.identify(Dr,()=>t(o.name))}Kh.forEach(o=>e(o))}function Rs(){function t(){Ca(Os),pc(Os),mc()}(L("config.visitor.set_info")||Qo())&&C(t)}var tp=!0;function jh(t){fu(),Ln(),zr(),Cn(),We({}),tn({}),t&&Object.keys(t).length>0&&Do(t)}function Ls(t={}){function e(n){du();let s=I(n,lu());if(tn(s),at("platform",E.START,{build:"12361"}),k("platform",E.REFRESH,o),v(s,"page.ignored"))return;zc();let p=gu();function f(a={}){Cn(),O(b.VIEW,a,g=>{uu(g,p)})}J(()=>{k("platform",E.VIEW,a=>f(a))}),Zu.forEach(a=>a(f)),O(b.VIEW,{},a=>{br(a,p)},()=>{br({},p)})}function o(n={}){let s=t.pages||[],p=x(),f=Ma(s,p);if(Y(`page: ${f.id} ${f.isNewPage?"\u2714":"\xD7"}`,f),f.isNewPage){let a=I(t,f.config);tp?(zr(),tp=!1):jh(n),e(a)}}function r(n=0){zt(t)?o():n<5?h.setTimeout(()=>{r(n+1)},400):(o(),i.error(new R("vendor id not found (google id)")))}v(t,"config.visitor.id_source")==="google"?r():o(),Rs()}var Jh=q({name:"log_spa_refresh_sampling",allocations:[{percent:.1,value:!0}]});function ep(t,e){Jh&&tt(t,{url:e})}var op={SPA_REFRESH_ENABLED:"config.spa.refresh.enabled",SPA_REFRESH_DELAY:"config.spa.refresh.delay"};function Ds(){if(!S()&&L(op.SPA_REFRESH_ENABLED)){let t=L(op.SPA_REFRESH_DELAY)||1e3;(e=>{if(e===void 0){i.error("Unable to setup SPA refresh: window.history is undefined");return}function o(s){ep("history_intercepted_initial",s),h.setTimeout(()=>{ep("history_intercepted_timeout",s),i.push({trigger:E.REFRESH})},t)}let r=e.pushState;e.pushState=function(){try{let p=arguments.length>=3?arguments[2]:"not passed";o(p)}catch(p){i.error(p)}return r.apply(e,arguments)};let n=e.replaceState;e.replaceState=function(){try{let p=arguments.length>=3?arguments[2]:"not passed";o(p)}catch(p){i.error(p)}return n.apply(e,arguments)}})(window.history)}}function rp(){let t=L("config.events");return t&&t.purchase&&t.purchase.fbEventsToIntercept&&t.purchase.fbEventsToIntercept.length>0?t.purchase.fbEventsToIntercept:null}function np(){let t=L("config.events");return t&&t.view&&t.view.fbEventsToIntercept&&t.view.fbEventsToIntercept.length>0?t.view.fbEventsToIntercept:null}var Yh=["load","error"],Xh=q({name:"log_intercepted_fb_event",allocations:[{percent:.1,value:!0}]});function ip(t,e){let o="Interepted FB event - ".concat(t.event,". Event fired - ",e.type);Xh&&tt(o)}function sp(t,e){return t.find(o=>{let r=o.event,s=(o.filters||[]).map(f=>`.*${f}`).join(),p=`facebook.com/tr/\\?id=.*&ev=${r}${s}`;return e.src.match(p)})}function zh(t,e,o){let r=sp(e,o);r&&(ip(r,t),i.push({trigger:E.PURCHASE}))}function Qh(t,e,o){let r=sp(e,o);r&&(ip(r,t),!Bt()&&r.event==="AddToCart"&&i.push({trigger:E.ADD_TO_CART}),i.push({trigger:E.SET,data:{page_id:r.page_id,setByFacebookIntercept:!0}}),i.push({trigger:E.REFRESH}))}var Zh=(t,e,o,r)=>{o&&zh(e,o,t),r&&Qh(e,r,t)};function Fs(){if(!S()){let t=rp(),e=np();if(t||e){let o=Image;Image=function(...n){let s=new o(...n);return Yh.forEach(p=>h.addListener(s,p,f=>{Zh(s,f,t,e)})),s}}}}function Bs(t={},e=()=>{}){an(t,()=>{if(i.SITE_NAME=u,ma(),On(),i.coreStarted){i.push({trigger:E.REFRESH});return}i.coreStarted=!0,Rn(),Va(t.param_transforms),tc(),Ls(t),Ds(),Fs(),Wa(),e()})}Bs(l);})();
}catch(e){try{e.message=e.name+':'+e.message;e.name='ParseError';if(blackcrow&&blackcrow.BUILD_NUMBER==='DEV')(blackcrow.error||console.error||console.log)(e);else(blackcrow&&blackcrow.error&&blackcrow.error(e));}catch(_){}}})();
